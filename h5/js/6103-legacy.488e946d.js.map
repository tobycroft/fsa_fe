{"version":3,"file":"js/6103-legacy.488e946d.js","mappings":"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","sources":["webpack://home_research_h5/./src/views/speakingData/speakingData.vue?f19d","webpack://home_research_h5/src/views/speakingData/speakingData.vue","webpack://home_research_h5/./src/views/speakingData/speakingData.vue?9321","webpack://home_research_h5/./src/views/speakingData/speakingData.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"root\"},[_c('img',{staticClass:\"back-icon\",attrs:{\"src\":require('@/assets/images/back_icon.png'),\"alt\":\"\"},on:{\"click\":_vm.goBack}}),_c('header',[_c('img',{staticClass:\"head-img\",attrs:{\"src\":require('@/assets/images/speaking_bg.png'),\"alt\":\"\"}})]),_c('main',[_c('div',{staticClass:\"main-wrap\"},[_c('div',{staticClass:\"recent-box\"},[_c('h2',[_vm._v(\"近期新增宣讲数据汇总\")]),_c('p',[_vm._v(\" 数据时间\"+_vm._s(_vm.handleStartTimeFormat(_vm.start_date))+\"-\"+_vm._s(_vm.handleEndTimeFormat(_vm.end_date))+\" \")]),_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"flex1 flex-center direction-column bor\"},[_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.total))]),_c('div',{staticClass:\"char\"},[_vm._v(\"新增场次\")])]),_c('div',{staticClass:\"flex1 flex-center direction-column\"},[_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.count))]),_c('div',{staticClass:\"char\"},[_vm._v(\"新增覆盖人数\")])])])]),_c('div',{staticClass:\"gap-char-wrap flex-center\"},[_c('img',{staticClass:\"char-img\",attrs:{\"src\":require('@/assets/images/speaking_char.png'),\"alt\":\"\"}})]),_c('div',{staticClass:\"list-wrap\"},_vm._l((_vm.recentList),function(item){return _c('div',{key:item.id,staticClass:\"list-item\"},[_c('img',{staticClass:\"bar-img\",attrs:{\"src\":require('@/assets/images/speaking_bar.png'),\"alt\":\"\"}}),_c('div',{staticClass:\"message-box\"},[_c('div',{staticClass:\"gradient-wrap\"},[_c('p',[_vm._v(\" 宣讲时间:\"+_vm._s(_vm.handleTimeFormat(item.start_date))+\"-\"+_vm._s(_vm.handleLecEndTime(item.start_date, item.duration))+\" \")])]),_c('div',{staticClass:\"line\"}),_c('h3',[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"char\"},[_vm._v(\" 宣讲讲师：\"+_vm._s(item.instructor_info.name)+\" \")]),_c('div',{staticClass:\"char\"},[_vm._v(\"听课人数：\"+_vm._s(item.visitor)+\"人\")]),_c('div',{staticClass:\"char\"},[_vm._v(\"主办单位：\"+_vm._s(item.host_info.name))])])])}),0),_c('p',{staticClass:\"loc-char\"},[_vm._v(\"“亲师友”提供技术支持\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"root\">\r\n    <img class=\"back-icon\" @click=\"goBack\" :src=\"require('@/assets/images/back_icon.png')\" alt=\"\">\r\n\r\n    <header>\r\n      <img\r\n        class=\"head-img\"\r\n        :src=\"require('@/assets/images/speaking_bg.png')\"\r\n        alt=\"\"\r\n      />\r\n    </header>\r\n    <main>\r\n      <div class=\"main-wrap\">\r\n        <div class=\"recent-box\">\r\n          <h2>近期新增宣讲数据汇总</h2>\r\n          <p>\r\n            数据时间{{ handleStartTimeFormat(start_date) }}-{{\r\n              handleEndTimeFormat(end_date)\r\n            }}\r\n          </p>\r\n          <div class=\"flex\">\r\n            <div class=\"flex1 flex-center direction-column bor\">\r\n              <div class=\"num\">{{ total }}</div>\r\n              <div class=\"char\">新增场次</div>\r\n            </div>\r\n            <div class=\"flex1 flex-center direction-column\">\r\n              <div class=\"num\">{{ count }}</div>\r\n              <div class=\"char\">新增覆盖人数</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"gap-char-wrap flex-center\">\r\n          <img\r\n            class=\"char-img\"\r\n            :src=\"require('@/assets/images/speaking_char.png')\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div class=\"list-wrap\">\r\n          <!-- <van-list\r\n            class=\"main-talker-list\"\r\n            v-model=\"loading\"\r\n            :finished=\"finished\"\r\n            finished-text=\"没有更多了\"\r\n            @load=\"onLoad\"\r\n          > -->\r\n            <div class=\"list-item\" v-for=\"item in recentList\" :key=\"item.id\">\r\n              <!-- <div></div> -->\r\n              <img\r\n                class=\"bar-img\"\r\n                :src=\"require('@/assets/images/speaking_bar.png')\"\r\n                alt=\"\"\r\n              />\r\n              <div class=\"message-box\">\r\n                <div class=\"gradient-wrap\">\r\n                  <p>\r\n                    宣讲时间:{{ handleTimeFormat(item.start_date) }}-{{\r\n                      handleLecEndTime(item.start_date, item.duration)\r\n                    }}\r\n                  </p>\r\n                </div>\r\n                <div class=\"line\"></div>\r\n                <h3>{{ item.title }}</h3>\r\n                <div class=\"char\">\r\n                  宣讲讲师：{{ item.instructor_info.name }}\r\n                </div>\r\n                <div class=\"char\">听课人数：{{ item.visitor }}人</div>\r\n                <div class=\"char\">主办单位：{{ item.host_info.name }}</div>\r\n              </div>\r\n            </div>\r\n          <!-- </van-list> -->\r\n        </div>\r\n        <p class=\"loc-char\">“亲师友”提供技术支持</p>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dateformat from \"dateformat\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 近期列表\r\n      recentList: [],\r\n      total: 0,\r\n      count: 0,\r\n      start_date: \"2022-05-10\",\r\n      end_date: \"2022-11-15\",\r\n      loading: false,\r\n      finished: false,\r\n      limit: 50,\r\n      page: 1,\r\n\r\n    };\r\n  },\r\n  async created() {\r\n    // this.start_date = moment()\r\n    //   .isoWeekday(1)\r\n    //   .subtract(3, \"days\")\r\n    //   .format(\"YYYY-MM-DD\");\r\n    // this.end_date = moment()\r\n    //   .isoWeekday(7)\r\n    //   .subtract(2, \"days\")\r\n    //   .format(\"YYYY-MM-DD\");\r\n    // console.log(\"end_date\", this.end_date);\r\n    if (\r\n      !this.$store.getters.associationInfo ||\r\n      !this.$store.getters.associationInfo.id\r\n    ) {\r\n      await this.$store.dispatch(\"association/associationInfoDomainAPI\");\r\n    }\r\n    this.recentListAPI();\r\n  },\r\n  methods: {\r\n    async onLoad() {\r\n      // 异步更新数据\r\n      // setTimeout 仅做示例，真实场景中一般为 ajax 请求\r\n      if (this.total >= res.total) {\r\n        return\r\n      }\r\n      const res = await this.recentListAPI();\r\n      console.log(\"res :>> \", res);\r\n\r\n      const list = res.data\r\n      if (list.length <= 0) {\r\n        this.finished = true;\r\n        return;\r\n      }\r\n\r\n      for (const item of res.data) {\r\n        this.recentList.push(item);\r\n      }\r\n\r\n      this.page += 1;\r\n\r\n      // 加载状态结束\r\n      this.loading = false;\r\n\r\n      // 数据全部加载完成\r\n      if (this.total >= res.total) {\r\n        this.finished = true;\r\n      }\r\n    },\r\n    handleTimeFormat(date) {\r\n      return moment(date).utc().format(\"YYYY年MM月DD日 HH:mm\");\r\n      // return dateformat(date, \"yyyy年mm月dd日 HH:MM\")\r\n    },\r\n    handleStartTimeFormat(date) {\r\n      return dateformat(date, \"yyyy年mm月dd日\");\r\n    },\r\n    handleEndTimeFormat(date) {\r\n      return dateformat(date, \"mm月dd日\");\r\n    },\r\n    handleLecEndTime(date, duration) {\r\n      return moment(date).add(duration, \"seconds\").utc().format(\"HH:mm\");\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1)\r\n    },\r\n    /**\r\n     * 近期列表API\r\n     */\r\n    async recentListAPI() {\r\n      const aid = this.$store.getters.associationInfo.id;\r\n      const data = {\r\n        aid,\r\n        start_date: this.start_date,\r\n        // start_date: \"2022-04-11\",\r\n        end_date: this.end_date,\r\n        // limit: this.limit,\r\n        limit: 233,\r\n        page: this.page,\r\n      };\r\n      const res = await this.$request(\"lecture.recentList2\", data);\r\n      console.log(\"近期列表API_res :>> \", res);\r\n      if(res.data.length > 50) {\r\n        this.recentList = res.data.splice(0,50)\r\n      } else {\r\n        this.recentList = res.data;\r\n      }\r\n      this.total = res.total;\r\n      this.count = res.count;\r\n      // this.end_date = res.data[0].start_date\r\n      // if(res.data.length >= 50) {\r\n      //  this.start_date = res.data[49].start_date\r\n      // }\r\n      return res\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.root {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: auto;\r\n  background: #080f85;\r\n  .back-icon {\r\n    position: fixed;\r\n    width: px(66);\r\n    height: px(66);\r\n    top: px(24);\r\n    left: px(24);\r\n    z-index: 100;\r\n  }\r\n  header {\r\n    width: 100%;\r\n    height: px(641);\r\n    .head-img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  main {\r\n    background: #080f85;\r\n    position: relative;\r\n    .main-wrap {\r\n      position: absolute;\r\n      top: calc(px(426) - px(641));\r\n      border-radius: px(40) px(40) 0px 0px;\r\n      padding: px(40) px(24);\r\n      background: #080f85;\r\n      box-sizing: border-box;\r\n      width: 100vw;\r\n    }\r\n    .recent-box {\r\n      width: 100%;\r\n      height: px(396);\r\n      background: url(\"@/assets/images/recent_speaking_box.png\");\r\n      background-size: cover;\r\n      padding-top: px(102);\r\n      box-sizing: border-box;\r\n      h2 {\r\n        margin: 0;\r\n        text-align: center;\r\n        font-size: px(40);\r\n        font-family: PingFang SC-Bold, PingFang SC;\r\n        font-weight: bold;\r\n        color: #333333;\r\n      }\r\n      p {\r\n        margin-top: px(5);\r\n        margin-bottom: px(24);\r\n        text-align: center;\r\n        font-size: px(24);\r\n        font-family: PingFang SC-Light, PingFang SC;\r\n        font-weight: 300;\r\n        color: #333333;\r\n      }\r\n      .bor {\r\n        border-right: 1px solid #eee;\r\n      }\r\n      .num {\r\n        font-size: px(64);\r\n        font-family: PingFang SC-Bold, PingFang SC;\r\n        font-weight: bold;\r\n        color: #0077ff;\r\n      }\r\n      .char {\r\n        font-size: px(26);\r\n        font-family: PingFang SC-Regular, PingFang SC;\r\n        font-weight: 400;\r\n        color: #999999;\r\n      }\r\n    }\r\n    .gap-char-wrap {\r\n      height: px(166);\r\n      .char-img {\r\n        width: px(344);\r\n        height: px(67);\r\n      }\r\n    }\r\n    .list-wrap {\r\n      width: 100%;\r\n\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      .list-item {\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        position: relative;\r\n        margin-bottom: px(72);\r\n        height: px(342);\r\n\r\n        .bar-img {\r\n          width: 100%;\r\n          height: px(64);\r\n          // position: absolute;\r\n          // top: px(-32);\r\n          // left: 0;\r\n          // background: linear-gradient(180deg, #CBEAFF 0%, #48AEF6 100%);\r\n\r\n          // opacity: 0.9;\r\n          border-radius: px(16);\r\n        }\r\n        .message-box {\r\n          // margin-bottom: px(36);\r\n\r\n          position: absolute;\r\n          top: px(32);\r\n\r\n          width: px(674);\r\n          height: px(342);\r\n          padding: px(32) 0 0 px(32);\r\n          box-sizing: border-box;\r\n          background: #ffffff;\r\n          border-radius: px(8);\r\n          .gradient-wrap {\r\n            border-radius: px(8) px(8) 0 0;\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            width: px(674);\r\n\r\n            background: linear-gradient(180deg, #acc8ff 0%, #ffffff 100%);\r\n            height: px(56);\r\n          }\r\n          p {\r\n            padding: px(32) 0 0 px(32);\r\n            font-size: px(24);\r\n            font-family: PingFang SC-Regular, PingFang SC;\r\n            font-weight: 400;\r\n            color: #999999;\r\n            margin-bottom: px(48);\r\n          }\r\n          .line {\r\n            padding: px(24) 0;\r\n            height: 0px;\r\n            border-bottom: 1px solid #eee;\r\n          }\r\n          h3 {\r\n            font-size: px(32);\r\n            font-family: PingFang SC-Bold, PingFang SC;\r\n            font-weight: bold;\r\n            color: #333333;\r\n            margin-bottom: px(16);\r\n          }\r\n          .char {\r\n            font-size: px(28);\r\n            font-family: PingFang SC-Regular, PingFang SC;\r\n            font-weight: 400;\r\n            color: #999999;\r\n            margin-bottom: px(16);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .loc-char {\r\n    font-size: px(24);\r\n    font-family: PingFang SC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: #cccccc;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./speakingData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./speakingData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./speakingData.vue?vue&type=template&id=7229f374&scoped=true&\"\nimport script from \"./speakingData.vue?vue&type=script&lang=js&\"\nexport * from \"./speakingData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./speakingData.vue?vue&type=style&index=0&id=7229f374&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7229f374\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goBack","_v","_s","handleStartTimeFormat","start_date","handleEndTimeFormat","end_date","total","count","_l","item","key","id","handleTimeFormat","handleLecEndTime","duration","title","instructor_info","name","visitor","host_info","staticRenderFns","data","recentList","loading","finished","limit","page","methods","res","console","list","date","utc","format","dateformat","add","$router","go","aid","component"],"sourceRoot":""}