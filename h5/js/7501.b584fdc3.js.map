{"version":3,"file":"js/7501.b584fdc3.js","mappings":"8KAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACE,YAAY,8BAA8BC,MAAM,CAAC,OAAS,IAAI,kBAAiB,EAAM,aAAaP,EAAIQ,oBAAoB,gBAAgBR,EAAIS,mBAAmB,eAAeT,EAAIU,aAAa,UAAW,IAAQ,CAAEV,EAAY,SAAEI,EAAG,YAAY,CAACE,YAAY,SAASK,MAAM,CAAGC,MAAO,OAAQC,OAAQ,QAAUN,MAAM,CAAC,IAAMP,EAAIc,SAAS,IAAM,UAAUV,EAAG,YAAY,CAACO,MAAM,CAAGC,MAAO,OAAQC,OAAQ,QAAUN,MAAM,CAAC,IAAM,EAAQ,WAA0C,EAAE,EACpkBQ,EAAkB,GC4BtB,GACEC,MAAO,CAELC,IAAK,CACHC,KAAMC,OACNC,QAAS,KAIbC,MAAO,CACLJ,IAAIK,GACa,KAAXA,IACFrB,KAAKa,SAAWQ,EAEpB,GAGFC,OACE,MAAO,CAELC,SAAU,GACVV,SAAU,GAEd,EAEAW,UACmB,KAAbxB,KAAKgB,MACPhB,KAAKa,SAAWb,KAAKgB,IAEzB,EAEAS,QAAS,CAIPlB,oBAAoBmB,EAAUC,EAAMJ,GAClCK,QAAQC,IACd,sCACAH,EACAC,EACAJ,EAEI,EAIAf,mBAAmBmB,GACjBC,QAAQC,IAAI,oCAAqCF,GACjD3B,KAAK2B,KAAOA,CACd,EAIAG,qBACE,MAAMR,EAAO,CACXK,KAAM3B,KAAK2B,MAEPI,QAAY/B,KAAKgC,SAAS,kBAAmBV,GACnDM,QAAQC,IAAI,qBAAsBE,GAClC/B,KAAKa,SAAWkB,EAChB/B,KAAKiC,QACP,EAKAA,SACEjC,KAAKkC,MAAM,SAAUlC,KAAKa,SAC5B,ICjGwS,I,WCQxSsB,GAAY,OACd,EACArC,EACAgB,GACA,EACA,KACA,WACA,MAIF,EAAeqB,EAAiB,O","sources":["webpack://home_research_h5/./src/views/editPoster/components/uploadAvatar.vue?3212","webpack://home_research_h5/src/views/editPoster/components/uploadAvatar.vue","webpack://home_research_h5/./src/views/editPoster/components/uploadAvatar.vue?ecfd","webpack://home_research_h5/./src/views/editPoster/components/uploadAvatar.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-upload',{staticClass:\"avatar-uploader flex-center\",attrs:{\"action\":\"#\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"http-request\":_vm.submitUpload,\"multiple\":false}},[(_vm.imageUrl)?_c('van-image',{staticClass:\"avatar\",style:({ width: '100%', height: '100%' }),attrs:{\"src\":_vm.imageUrl,\"fit\":\"fill\"}}):_c('van-image',{style:({ width: '100%', height: '100%' }),attrs:{\"src\":require('@/assets/images/avatar_default.png')}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- <div class=\"avatar-upload-container\"> -->\n  <el-upload\n    class=\"avatar-uploader flex-center\"\n    action=\"#\"\n    :show-file-list=\"false\"\n    :on-success=\"handleAvatarSuccess\"\n    :before-upload=\"beforeAvatarUpload\"\n    :http-request=\"submitUpload\"\n    :multiple=\"false\"\n  >\n    <van-image\n      v-if=\"imageUrl\"\n      :style=\"{ width: '100%', height: '100%' }\"\n      :src=\"imageUrl\"\n      fit=\"fill\"\n      class=\"avatar\"\n    />\n    <van-image\n      v-else\n      :style=\"{ width: '100%', height: '100%' }\"\n      :src=\"require('@/assets/images/avatar_default.png')\"\n    ></van-image>\n  </el-upload>\n\n  <!-- </div> -->\n</template>\n\n<script>\nexport default {\n  props: {\n    // 头像地址\n    src: {\n      type: String,\n      default: \"\",\n    },\n  },\n\n  watch: {\n    src(newVal) {\n      if (newVal !== \"\") {\n        this.imageUrl = newVal;\n      }\n    },\n  },\n\n  data() {\n    return {\n      // 已上传的文件列表\n      fileList: [],\n      imageUrl: \"\",\n    };\n  },\n\n  created() {\n    if (this.src !== \"\") {\n      this.imageUrl = this.src;\n    }\n  },\n\n  methods: {\n    /**\n     * 文件上传成功时的钩子\n     */\n    handleAvatarSuccess(response, file, fileList) {\n      console.log(\n        \"文件上传成功时的钩子_handleAvatarSuccess :>> \",\n        response,\n        file,\n        fileList\n      );\n    },\n    /**\n     * 上传文件之前的钩子，参数为上传的文件，若返回 false 或者返回 Promise 且被 reject，则停止上传。\n     */\n    beforeAvatarUpload(file) {\n      console.log(\"上传文件之前的钩子_beforeAvatarUpload :>> \", file);\n      this.file = file;\n    },\n    /**\n     * 覆盖默认的上传行为，可以自定义上传的实现\n     */\n    async submitUpload() {\n      const data = {\n        file: this.file,\n      };\n      const res = await this.$request(\"aoss.fileUpload\", data);\n      console.log(\"上传文件之前的钩子_res :>> \", res);\n      this.imageUrl = res;\n      this.change();\n    },\n    /**\n     * 更改图片地址\n     * @returns {String} 新的图片地址\n     */\n    change() {\n      this.$emit(\"change\", this.imageUrl);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.avatar-uploader {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 50%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./uploadAvatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./uploadAvatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uploadAvatar.vue?vue&type=template&id=7999859c&scoped=true&\"\nimport script from \"./uploadAvatar.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadAvatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uploadAvatar.vue?vue&type=style&index=0&id=7999859c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7999859c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","handleAvatarSuccess","beforeAvatarUpload","submitUpload","style","width","height","imageUrl","staticRenderFns","props","src","type","String","default","watch","newVal","data","fileList","created","methods","response","file","console","log","async","res","$request","change","$emit","component"],"sourceRoot":""}