{"version":3,"file":"js/2061-legacy.872ccdf1.js","mappings":"8KAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,YAAY,CAACG,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOV,EAAIW,WAAWV,KAAKW,gBAAgBC,YAAa,MAAOC,WAAW,uDAAuDC,MAAM,CAAC,IAAM,EAAQ,UAA8CX,EAAG,YAAY,CAACG,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOV,EAAIW,WAAWV,KAAKW,gBAAgBC,YAAa,MAAOC,WAAW,uDAAuDC,MAAM,CAAC,IAAM,EAAQ,UAA8CX,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAeF,EAAG,YAAY,CAACE,YAAY,sBAAsBS,MAAM,CAAC,IAAM,EAAQ,WAAyC,IAAI,GAAGX,EAAG,UAAU,CAACA,EAAG,OAAO,CAACE,YAAY,iBAAiBS,MAAM,CAAC,OAAS,KAAK,CAACX,EAAG,gBAAgB,CAACW,MAAM,CAAC,iBAAmBf,EAAIgB,iBAAiB,kBAAoBhB,EAAIiB,kBAAkB,aAAejB,EAAIkB,gBAAgBd,EAAG,UAAU,CAACE,YAAY,iBAAiBS,MAAM,CAAC,KAAOf,EAAImB,SAAS,OAASnB,EAAIoB,QAAQC,GAAG,CAAC,OAASrB,EAAIsB,iBAAiBlB,EAAG,WAAW,CAACmB,IAAI,WAAWR,MAAM,CAAC,OAASf,EAAIoB,QAAQC,GAAG,CAAC,OAASrB,EAAIwB,mBAAmB,IAAI,MAClzCC,EAAkB,G,4DCgDtB,GACEC,WAAY,CACVC,KAAM,WAAV,wCACIC,UAAW,WAAf,uCACIC,WAAY,WAAhB,wCACIC,QAAS,WAAb,wCACIC,QAAS,WAAb,wCACIC,cAAe,WAAnB,wCACIC,SAAU,WAAd,yCAEEC,KAVF,WAWI,MAAO,CACLf,SAAU,CAChB,OACA,OACA,OACA,OACA,OACA,QAIMH,iBAAkB,EAElBC,kBAAmB,EAEnBC,aAAc,EACdE,OAAQ,EACRe,QAAQ,EAERvB,gBAAiB,KAGrBwB,QAjCF,WAkCInC,KAAKW,gBAAkBX,KAAKoC,OAAOC,QAAQ1B,gBAC3CX,KAAKsC,sBACLtC,KAAKuC,uBACLvC,KAAKwC,mBAEPC,QAAS,CACP/B,WAAJA,EAAAA,GAKIW,cANJ,SAMAqB,GACMC,QAAQC,IAAI,mBAAoBF,GAChC1C,KAAKmB,OAASuB,EACd1C,KAAK6C,MAAMC,SAASC,YAAY/C,KAAKmB,SAKvCI,eAdJ,SAcAmB,GACMC,QAAQC,IAAI,oBAAqBF,GACjC1C,KAAKmB,OAASuB,GAMhB,oBAtBJ,WAsBA,iKACAM,EAAA,oCACAf,EAAA,CACAe,IAAAA,GAHA,SAKA,yCALA,OAKAC,EALA,OAMAN,QAAAA,IAAAA,oBAAAA,GACA,qBAPA,8CAYI,qBAlCJ,WAkCA,iKACAK,EAAA,oCACAf,EAAA,CACAiB,KAAAA,MACAF,IAAAA,GAJA,SAMA,0CANA,OAMAC,EANA,OAOAN,QAAAA,IAAAA,oBAAAA,GACA,sBARA,8CAaI,gBA/CJ,WA+CA,iKACAK,EAAA,oCACAf,EAAA,CAAAe,IAAAA,GAFA,SAGA,qCAHA,OAGAC,EAHA,OAIAN,QAAAA,IAAAA,oBAAAA,GACA,iBALA,gDCvI0Q,I,UCQtQQ,GAAY,OACd,EACArD,EACA0B,GACA,EACA,KACA,WACA,MAIF,EAAe2B,EAAiB,S,mQCbzB,SAASC,EAAWC,EAAKC,GAC9B,OAAID,GAAOC,EACDD,EAAMC,EAAS,KAEzBX,QAAQC,IAAI,yBAA0BS,EAAKC,GACpC,GAUF,IAAMC,EAAc,SAACC,EAAIC,GAC9B,IAAIC,EAAQ,IAAIC,KAAKA,KAAKC,MAAMJ,IAC5BK,EAAQ,IAAIF,KAAKA,KAAKC,MAAMH,IAChC,OAAOC,EAAQG,GAUJC,EAAiB,SAACC,EAAMC,EAAYC,GAC/C,OAAQD,GACN,IAAK,IACL,IAAK,IACH,GAAmB,MAAfC,GAAqC,MAAfA,EACxB,OAAOF,EAET,GAAmB,MAAfE,GAAqC,MAAfA,EACxB,OAAc,GAAPF,EAET,GAAmB,MAAfE,GAAqC,MAAfA,EACxB,OAAc,GAAPF,EAAY,GAErBpB,QAAQC,IAAI,8BACZ,MACF,IAAK,IACL,IAAK,IACH,GAAmB,MAAfqB,GAAqC,MAAfA,EACxB,OAAOF,EAAO,GAEhB,GAAmB,MAAfE,GAAqC,MAAfA,EACxB,OAAOF,EAET,GAAmB,MAAfE,GAAqC,MAAfA,EACxB,OAAc,GAAPF,EAETpB,QAAQC,IAAI,8BACZ,MACF,IAAK,IACL,IAAK,IACH,GAAmB,MAAfqB,GAAqC,MAAfA,EACxB,OAAOF,EAAO,GAAK,GAErB,GAAmB,MAAfE,GAAqC,MAAfA,EACxB,OAAOF,EAAO,GAEhB,GAAmB,MAAfE,GAAqC,MAAfA,EACxB,OAAOF,EAETpB,QAAQC,IAAI,8BACZ,MAEF,QACED,QAAQC,IAAI,6BACZ,QAWOsB,EAAe,SAACC,EAAMC,GAA8B,IAArBC,EAAqB,uDAAX,OAC9CC,EAAU,GAOhB,OANAH,EAAKI,SAAQ,SAACC,GACZ,IAAMC,EAAUD,EAAKH,GAASK,QAAQN,GAClCK,GAAW,GACbH,EAAQK,KAAKH,MAGVF,GAQIM,EAAoB,SAACC,GAChC,OAAOA,EAAMC,QAAQ,sBAAuB,aAOjCC,EAAoB,SAACC,GAChC,IAAMC,EAAM,GACZ,IAAK,IAAMC,KAAOF,EAChBC,EAAIN,KAAKK,EAAIE,IAEf,OAAOD,EAAIE,WASAzE,EAAa,SAAC0E,EAAYC,GACrC1C,QAAQC,IAAI,kBAAmBwC,GAC/B,IAAIE,EAAa,GASjB,MARmB,YAAfF,GAA2C,MAAfA,IAC9BE,EAAa,MAGI,OAAfF,IACFE,EAAa,MAGRA,IAAeD,GAQXE,EAAkB,SAACC,GAC9B,OAAQA,GACN,IAAK,WACH,MAAO,OACT,IAAK,OACH,MAAO,WACT,IAAK,WACH,MAAO,SACT,IAAK,SACH,MAAO,SAET,QACE,S","sources":["webpack://home_research_h5/./src/views/dataBoard/index.vue?efd9","webpack://home_research_h5/src/views/dataBoard/index.vue","webpack://home_research_h5/./src/views/dataBoard/index.vue?dbc9","webpack://home_research_h5/./src/views/dataBoard/index.vue","webpack://home_research_h5/./src/utils/common.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-coard-container\"},[_c('div',{staticClass:\"background-box\"},[_c('van-image',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hashDomain(this.associationInfo.import_type, 'fj')),expression:\"hashDomain(this.associationInfo.import_type, 'fj')\"}],attrs:{\"src\":require('@/assets/images/login_background_fj.png')}}),_c('van-image',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hashDomain(this.associationInfo.import_type, 'gt')),expression:\"hashDomain(this.associationInfo.import_type, 'gt')\"}],attrs:{\"src\":require('@/assets/images/login_background_gt.jpg')}}),_c('div',{staticClass:\"data-board-style\"},[_c('div',{staticClass:\"blur-style\"}),_c('van-image',{staticClass:\"data-board-bg-style\",attrs:{\"src\":require('@/assets/images/data_board_bg.png')}})],1)],1),_c('article',[_c('Card',{staticClass:\"page-box-style\",attrs:{\"radius\":40}},[_c('DataBoardCard',{attrs:{\"coverTotalNumber\":_vm.coverTotalNumber,\"preachTotalNumber\":_vm.preachTotalNumber,\"areaCoverage\":_vm.areaCoverage}}),_c('TabsNum',{staticClass:\"tabs-num-style\",attrs:{\"list\":_vm.tabsList,\"active\":_vm.active},on:{\"change\":_vm.tabsNumChange}}),_c('DataShow',{ref:\"dataShow\",attrs:{\"active\":_vm.active},on:{\"change\":_vm.changeDataShow}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"data-coard-container\">\r\n    <!-- 背景图片 -->\r\n    <div class=\"background-box\">\r\n      <van-image\r\n        v-show=\"hashDomain(this.associationInfo.import_type, 'fj')\"\r\n        :src=\"require('@/assets/images/login_background_fj.png')\"\r\n      ></van-image>\r\n      <van-image\r\n        v-show=\"hashDomain(this.associationInfo.import_type, 'gt')\"\r\n        :src=\"require('@/assets/images/login_background_gt.jpg')\"\r\n      ></van-image>\r\n      <div class=\"data-board-style\">\r\n        <div class=\"blur-style\"></div>\r\n        <van-image\r\n          class=\"data-board-bg-style\"\r\n          :src=\"require('@/assets/images/data_board_bg.png')\"\r\n        ></van-image>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 主体内容 -->\r\n    <article>\r\n      <Card class=\"page-box-style\" :radius=\"40\">\r\n        <!-- 覆盖 | 宣讲 | 区域 面板信息 -->\r\n        <DataBoardCard\r\n          :coverTotalNumber=\"coverTotalNumber\"\r\n          :preachTotalNumber=\"preachTotalNumber\"\r\n          :areaCoverage=\"areaCoverage\"\r\n        />\r\n\r\n        <!-- tabs区域 -->\r\n        <TabsNum\r\n          class=\"tabs-num-style\"\r\n          :list=\"tabsList\"\r\n          :active=\"active\"\r\n          @change=\"tabsNumChange\"\r\n        />\r\n\r\n        <!-- 排行榜 -->\r\n        <DataShow ref=\"dataShow\" :active=\"active\" @change=\"changeDataShow\" />\r\n      </Card>\r\n    </article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { hashDomain } from \"@/utils/common\";\r\n\r\nexport default {\r\n  components: {\r\n    Card: () => import(\"@/components/Card\"),\r\n    IconTitle: () => import(\"@/components/IconTitle\"),\r\n    TimeUpdate: () => import(\"@/components/TimeUpdate\"),\r\n    NumUnit: () => import(\"@/components/NumUnit\"),\r\n    TabsNum: () => import(\"@/components/TabsNum\"),\r\n    DataBoardCard: () => import(\"@/components/DataBoardCard\"),\r\n    DataShow: () => import(\"./components/DataShow\"),\r\n  },\r\n  data() {\r\n    return {\r\n      tabsList: [\r\n        \"近期区域\",\r\n        \"承办单位\",\r\n        \"宣讲详情\",\r\n        \"区域覆盖\",\r\n        \"授课排名\",\r\n        \"新增人数\",\r\n      ],\r\n\r\n      // 覆盖总人数\r\n      coverTotalNumber: 0,\r\n      // 宣讲总场次\r\n      preachTotalNumber: 0,\r\n      // 区域覆盖率\r\n      areaCoverage: 0,\r\n      active: 0,\r\n      bgLoad: false,\r\n      // 机构信息\r\n      associationInfo: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.associationInfo = this.$store.getters.associationInfo;\r\n    this.coverTotalNumberAPI();\r\n    this.preachTotalNumberAPI();\r\n    this.areaCoverageAPI();\r\n  },\r\n  methods: {\r\n    hashDomain,\r\n\r\n    /**\r\n     * tabsNum 选中项发生改变\r\n     */\r\n    tabsNumChange(val) {\r\n      console.log(\"tabsNum_val :>> \", val);\r\n      this.active = val;\r\n      this.$refs.dataShow.activeSwipe(this.active);\r\n    },\r\n    /**\r\n     * DataShow组件的change事件\r\n     */\r\n    changeDataShow(val) {\r\n      console.log(\"DataShow_val :>> \", val);\r\n      this.active = val;\r\n    },\r\n\r\n    /**\r\n     * 覆盖总人数API\r\n     */\r\n    async coverTotalNumberAPI() {\r\n      const aid = this.$store.getters.associationInfo.id;\r\n      const data = {\r\n        aid,\r\n      };\r\n      const res = await this.$request(\"lecture.coverTotalNumber\", data);\r\n      console.log(\"覆盖总人数API_res :>> \", res);\r\n      this.coverTotalNumber = res;\r\n    },\r\n    /**\r\n     * 宣讲总场次API\r\n     */\r\n    async preachTotalNumberAPI() {\r\n      const aid = this.$store.getters.associationInfo.id;\r\n      const data = {\r\n        type: \"all\",\r\n        aid,\r\n      };\r\n      const res = await this.$request(\"lecture.preachTotalNumber\", data);\r\n      console.log(\"宣讲总场次API_res :>> \", res);\r\n      this.preachTotalNumber = res;\r\n    },\r\n    /**\r\n     * 区域覆盖率API\r\n     */\r\n    async areaCoverageAPI() {\r\n      const aid = this.$store.getters.associationInfo.id;\r\n      const data = { aid };\r\n      const res = await this.$request(\"lecture.areaCoverage\", data);\r\n      console.log(\"区域覆盖率API_res :>> \", res);\r\n      this.areaCoverage = res;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.data-coard-container {\r\n  position: relative;\r\n  .background-box {\r\n    position: relative;\r\n    .data-board-style {\r\n      padding: px(29) px(28);\r\n      border: px(1) solid #192681;\r\n      border-radius: px(40) px(40) 0 0;\r\n      overflow: hidden;\r\n      opacity: 0.8;\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0;\r\n      left: 0;\r\n      .blur-style {\r\n        background: #192681;\r\n        -webkit-backdrop-filter: blur(5px);\r\n        backdrop-filter: blur(5px);\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  article {\r\n    padding-top: px(620);\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    .page-box-style {\r\n      padding: px(24);\r\n      height: 100vh;\r\n      background: #f3f5f9;\r\n\r\n      .tabs-num-style,\r\n      .top-list-style {\r\n        margin: px(50) px(24) 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4446e4d9&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4446e4d9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4446e4d9\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * 计算百分比\r\n * @param {Number} num 数量\r\n * @param {Number} total 总数\r\n * @returns {Number} 百分比\r\n */\r\nexport function percentage(num, total) {\r\n  if (num && total) {\r\n    return (num / total) * 100;\r\n  }\r\n  console.log(\"percentage函数参数异常: :>> \", num, total);\r\n  return 0;\r\n}\r\n\r\n/**\r\n * 比较两个日期大小\r\n * @param d1 {dateString} 第一个日期\r\n * @param d2 {dateString} 第二个日期\r\n *\r\n * @return Boolean\r\n * */\r\nexport const compareDate = (d1, d2) => {\r\n  let date1 = new Date(Date.parse(d1));\r\n  let date2 = new Date(Date.parse(d2));\r\n  return date1 > date2;\r\n};\r\n\r\n/**\r\n * 时间转换工具函数\r\n * @param {Number} time 当前时间数字\r\n * @param {String} targetUnit 当前时间单位(时H&h|分M&m|S*s秒)\r\n * @param {String} resultUnit 转换结果时间单位(时H&h|分M&m|S*s秒)\r\n * @returns 返回转换时间结果\r\n */\r\nexport const timeConversion = (time, targetUnit, resultUnit) => {\r\n  switch (targetUnit) {\r\n    case \"H\":\r\n    case \"h\":\r\n      if (resultUnit === \"H\" || resultUnit === \"h\") {\r\n        return time;\r\n      }\r\n      if (resultUnit === \"M\" || resultUnit === \"m\") {\r\n        return time * 60;\r\n      }\r\n      if (resultUnit === \"S\" || resultUnit === \"s\") {\r\n        return time * 60 * 60;\r\n      }\r\n      console.log(\"日期转换函数resultUnit参数不合法 :>> \");\r\n      break;\r\n    case \"M\":\r\n    case \"m\":\r\n      if (resultUnit === \"H\" || resultUnit === \"h\") {\r\n        return time / 60;\r\n      }\r\n      if (resultUnit === \"M\" || resultUnit === \"m\") {\r\n        return time;\r\n      }\r\n      if (resultUnit === \"S\" || resultUnit === \"s\") {\r\n        return time * 60;\r\n      }\r\n      console.log(\"日期转换函数resultUnit参数不合法 :>> \");\r\n      break;\r\n    case \"S\":\r\n    case \"s\":\r\n      if (resultUnit === \"H\" || resultUnit === \"h\") {\r\n        return time / 60 / 60;\r\n      }\r\n      if (resultUnit === \"M\" || resultUnit === \"m\") {\r\n        return time / 60;\r\n      }\r\n      if (resultUnit === \"S\" || resultUnit === \"s\") {\r\n        return time;\r\n      }\r\n      console.log(\"日期转换函数resultUnit参数不合法 :>> \");\r\n      break;\r\n\r\n    default:\r\n      console.log(\"日期转换函数targetUnit参数不合法 :>>\");\r\n      break;\r\n  }\r\n};\r\n\r\n/**\r\n * 处理搜索逻辑\r\n * @param {Array,Object} list 被搜索的数据源列表\r\n * @param {String} keyword 关键字\r\n * @param {String} keyname 要搜索的关键字字段名称,默认为name\r\n * @returns 返回过滤之后的列表\r\n */\r\nexport const handleSearch = (list, keyword, keyname = \"name\") => {\r\n  const newList = [];\r\n  list.forEach((item) => {\r\n    const hashVal = item[keyname].indexOf(keyword);\r\n    if (hashVal > -1) {\r\n      newList.push(item);\r\n    }\r\n  });\r\n  return newList;\r\n};\r\n\r\n/**\r\n * 隐藏手机号\r\n * @param {String} phone 手机号\r\n * @returns 隐藏过后的手机号\r\n */\r\nexport const handlePhoneHidden = (phone) => {\r\n  return phone.replace(/(\\d{3})\\d{4}(\\d{4})/, \"$1****$2\");\r\n};\r\n\r\n/**\r\n * 排序 反向排序\r\n * @param {Object} obj obj对象\r\n */\r\nexport const handleSortReverse = (obj) => {\r\n  const arr = [];\r\n  for (const key in obj) {\r\n    arr.push(obj[key]);\r\n  }\r\n  return arr.reverse();\r\n};\r\n\r\n/**\r\n * 判断当前所属平台(福建/古田)环境\r\n * @param {String} importType 源类型\r\n * @param {String} targretType 目标类型\r\n * @returns 是否是当前需要的类型\r\n */\r\nexport const hashDomain = (importType, targretType) => {\r\n  console.log(\"importType :>> \", importType);\r\n  let sourceType = \"\";\r\n  if (importType === \"default\" || importType === \"a\") {\r\n    sourceType = \"fj\";\r\n  }\r\n\r\n  if (importType === \"gt\") {\r\n    sourceType = \"gt\";\r\n  }\r\n\r\n  return sourceType === targretType;\r\n};\r\n\r\n/**\r\n * 获取显示区域等级\r\n * @param {String} modelType 当前区域等级\r\n * @returns 返回当前区域的下级区域等级\r\n */\r\nexport const handleAreaLevel = (modelType) => {\r\n  switch (modelType) {\r\n    case \"province\":\r\n      return \"city\";\r\n    case \"city\":\r\n      return \"district\";\r\n    case \"district\":\r\n      return \"street\";\r\n    case \"street\":\r\n      return \"street\";\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","hashDomain","associationInfo","import_type","expression","attrs","coverTotalNumber","preachTotalNumber","areaCoverage","tabsList","active","on","tabsNumChange","ref","changeDataShow","staticRenderFns","components","Card","IconTitle","TimeUpdate","NumUnit","TabsNum","DataBoardCard","DataShow","data","bgLoad","created","$store","getters","coverTotalNumberAPI","preachTotalNumberAPI","areaCoverageAPI","methods","val","console","log","$refs","dataShow","activeSwipe","aid","res","type","component","percentage","num","total","compareDate","d1","d2","date1","Date","parse","date2","timeConversion","time","targetUnit","resultUnit","handleSearch","list","keyword","keyname","newList","forEach","item","hashVal","indexOf","push","handlePhoneHidden","phone","replace","handleSortReverse","obj","arr","key","reverse","importType","targretType","sourceType","handleAreaLevel","modelType"],"sourceRoot":""}