{"version":3,"file":"js/1819-legacy.cc6b72e2.js","mappings":"6KAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACA,EAAG,QAAQ,CAACG,IAAI,QAAQC,MAAM,CAAC,WAAaR,EAAIS,YAAYC,GAAG,CAAC,OAASV,EAAIW,gBAAgB,GAAGP,EAAG,OAAO,CAACA,EAAG,UAAU,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAA0B,IAAnBf,EAAIS,WAAkBO,WAAW,qBAAqBR,MAAM,CAAC,SAAWR,EAAIiB,MAAMP,GAAG,CAAC,kBAAkB,SAASQ,GAAQlB,EAAIiB,KAAKC,GAAQ,mBAAmB,SAASA,GAAQlB,EAAIiB,KAAKC,MAAWd,EAAG,UAAU,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAA0B,IAAnBf,EAAIS,WAAkBO,WAAW,qBAAqBR,MAAM,CAAC,SAAWR,EAAIiB,MAAMP,GAAG,CAAC,kBAAkB,SAASQ,GAAQlB,EAAIiB,KAAKC,GAAQ,mBAAmB,SAASA,GAAQlB,EAAIiB,KAAKC,MAAWd,EAAG,YAAY,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAA0B,IAAnBf,EAAIS,WAAkBO,WAAW,qBAAqBR,MAAM,CAAC,SAAWR,EAAIiB,MAAMP,GAAG,CAAC,kBAAkB,SAASQ,GAAQlB,EAAIiB,KAAKC,GAAQ,mBAAmB,SAASA,GAAQlB,EAAIiB,KAAKC,OAAY,GAAGd,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAIS,WAAa,EAAGO,WAAW,mBAAmBV,YAAY,2BAA2B,CAACF,EAAG,aAAa,CAACE,YAAY,YAAYE,MAAM,CAAC,MAAQ,GAAG,MAAQ,IAAIE,GAAG,CAAC,MAAQV,EAAImB,WAAW,CAACnB,EAAIoB,GAAG,WAAWhB,EAAG,aAAa,CAACE,YAAY,YAAYE,MAAM,CAAC,MAAQ,GAAG,KAAO,QAAQE,GAAG,CAAC,MAAQV,EAAIqB,OAAO,CAACrB,EAAIoB,GAAG,YAAY,GAAGhB,EAAG,MAAM,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAA0B,IAAnBf,EAAIS,WAAkBO,WAAW,qBAAqBV,YAAY,eAAe,CAACF,EAAG,aAAa,CAACE,YAAY,iBAAiBE,MAAM,CAAC,MAAQ,IAAIE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOlB,EAAIsB,QAAQC,QAAQ,QAAQ,CAACvB,EAAIoB,GAAG,WAAW,QAC9sDI,EAAkB,GCqCtB,G,sDAAA,CACEC,WAAY,CACVC,MAAO,WAAX,wCACIC,QAAS,WAAb,uCACIC,QAAS,WAAb,iEACIC,UAAW,WAAf,yCAGEC,KARF,WASI,MAAO,CAELrB,WAAY,EACZQ,KAAM,CACJc,IAAK,GACLC,OAAQ,GACRC,KAAM,GACNC,IAAK,GACLC,MAAO,GACPC,KAAM,GACNC,aAAc,GACdC,IAAK,GACLC,SAAU,GACVC,QAAS,GACT3B,KAAM,IAGR4B,SAAS,IAIbC,QA9BF,WA+BI,IAAJ,4BACIzC,KAAKwC,QAAUA,IAAoB,EAC/BA,GACFxC,KAAK0C,gBAITC,QAAS,CAIPD,aAJJ,WAKM,IAAN,uCACME,EAAiBb,OAAS,GAAhCa,OAAAA,EAAAA,QACM5C,KAAKgB,KAAO4B,GAKd1B,SAZJ,WAaMlB,KAAK6C,MAAMC,MAAM5B,YAInB6B,cAjBJ,WAkBM,OAAuB,GAAnB/C,KAAKQ,WACFR,KAAKgB,KAAKc,IAIV9B,KAAKgB,KAAKJ,KAIVZ,KAAKgB,KAAKe,UAIV/B,KAAKgB,KAAKqB,KAA+B,IAAxBrC,KAAKgB,KAAKqB,IAAIW,UAClChD,KAAKiD,OAAO,YACL,IALPjD,KAAKiD,OAAO,WACL,IALPjD,KAAKiD,OAAO,aACL,IALPjD,KAAKiD,OAAO,aACL,GAgBY,GAAnBjD,KAAKQ,WACFR,KAAKgB,KAAKmB,KAIVnC,KAAKgB,KAAKgB,KAIVhC,KAAKgB,KAAKoB,aAIVpC,KAAKgB,KAAKiB,IAIVjC,KAAKgB,KAAKkB,MAIVlC,KAAKgB,KAAKsB,WAIVtC,KAAKgB,KAAKuB,UACbvC,KAAKiD,OAAO,eACL,IALPjD,KAAKiD,OAAO,YACL,IALPjD,KAAKiD,OAAO,UACL,IALPjD,KAAKiD,OAAO,YACL,IALPjD,KAAKiD,OAAO,cACL,IALPjD,KAAKiD,OAAO,YACL,IALPjD,KAAKiD,OAAO,aACL,QAHX,GAoCF7B,KAzEJ,WAyEA,WACM,GAAIpB,KAAK+C,gBAAiB,CACxB,IAAR,yCACQ/C,KAAKgB,KAAKkC,IAAMA,EACO,KAAnBlD,KAAKQ,WAEPR,KAAKmD,SAAS,gCAAiCnD,KAAKgB,MAAMoC,MACpE,YACY,EAAZ,mBACY,YAAZC,WACc,EAAd,uBACA,QAIUrD,KAAK6C,MAAMC,MAAM1B,SAQvBV,YAhGJ,SAgGA4C,GACMtD,KAAKQ,WAAa8C,GAGpBC,SApGJ,SAoGAC,GACMC,QAAQC,IAAI,SAAUF,OCjL8O,I,UCQtQG,GAAY,OACd,EACA7D,EACAyB,GACA,EACA,KACA,WACA,MAIF,EAAeoC,EAAiB","sources":["webpack://home_research_h5/./src/views/register/index.vue?e3e5","webpack://home_research_h5/src/views/register/index.vue","webpack://home_research_h5/./src/views/register/index.vue?d9e3","webpack://home_research_h5/./src/views/register/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register-container\"},[_c('header',[_c('Steps',{ref:\"steps\",attrs:{\"activeStep\":_vm.activeStep},on:{\"change\":_vm.changeSteps}})],1),_c('main',[_c('StepOne',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeStep === 0),expression:\"activeStep === 0\"}],attrs:{\"formData\":_vm.form},on:{\"update:formData\":function($event){_vm.form=$event},\"update:form-data\":function($event){_vm.form=$event}}}),_c('StepTwo',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeStep === 1),expression:\"activeStep === 1\"}],attrs:{\"formData\":_vm.form},on:{\"update:formData\":function($event){_vm.form=$event},\"update:form-data\":function($event){_vm.form=$event}}}),_c('StepThree',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeStep === 2),expression:\"activeStep === 2\"}],attrs:{\"formData\":_vm.form},on:{\"update:formData\":function($event){_vm.form=$event},\"update:form-data\":function($event){_vm.form=$event}}})],1),_c('div',{staticClass:\"footer\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeStep < 2),expression:\"activeStep < 2\"}],staticClass:\"step-operation-box flex\"},[_c('van-button',{staticClass:\"btn-style\",attrs:{\"round\":\"\",\"plain\":\"\"},on:{\"click\":_vm.previous}},[_vm._v(\" 上一步 \")]),_c('van-button',{staticClass:\"btn-style\",attrs:{\"round\":\"\",\"type\":\"info\"},on:{\"click\":_vm.next}},[_vm._v(\" 下一步 \")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeStep === 2),expression:\"activeStep === 2\"}],staticClass:\"flex-center\"},[_c('van-button',{staticClass:\"btn-back-style\",attrs:{\"round\":\"\"},on:{\"click\":function($event){return _vm.$router.replace('/')}}},[_vm._v(\"立即返回\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"register-container\">\r\n    <header>\r\n      <!-- 步骤条 -->\r\n      <Steps ref=\"steps\" :activeStep=\"activeStep\" @change=\"changeSteps\" />\r\n    </header>\r\n\r\n    <main>\r\n      <!-- 步骤1(组件) -->\r\n      <StepOne v-show=\"activeStep === 0\" :formData.sync=\"form\" />\r\n\r\n      <!-- 步骤2(组件) -->\r\n      <StepTwo v-show=\"activeStep === 1\" :formData.sync=\"form\" />\r\n\r\n      <!-- 步骤3(组件) -->\r\n      <StepThree v-show=\"activeStep === 2\" :formData.sync=\"form\" />\r\n    </main>\r\n\r\n    <!-- 操作 -->\r\n    <div class=\"footer\">\r\n      <div v-show=\"activeStep < 2\" class=\"step-operation-box flex\">\r\n        <van-button class=\"btn-style\" round plain @click=\"previous\">\r\n          上一步\r\n        </van-button>\r\n        <van-button class=\"btn-style\" round type=\"info\" @click=\"next\">\r\n          下一步\r\n        </van-button>\r\n      </div>\r\n      <div v-show=\"activeStep === 2\" class=\"flex-center\">\r\n        <van-button class=\"btn-back-style\" round @click=\"$router.replace('/')\"\r\n          >立即返回</van-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  components: {\r\n    Steps: () => import(\"@/components/Steps\"),\r\n    StepOne: () => import(\"@/views/register/components/StepOne\"),\r\n    StepTwo: () => import(\"@/views/register/components/StepTwo\"),\r\n    StepThree: () => import(\"@/views/register/components/StepThree\"),\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      // 当前步骤\r\n      activeStep: 0,\r\n      form: {\r\n        img: \"\",\r\n        gender: \"\",\r\n        mail: \"\",\r\n        job: \"\",\r\n        title: \"\",\r\n        cert: \"\",\r\n        work_address: \"\",\r\n        tel: \"\",\r\n        location: \"\",\r\n        address: \"\",\r\n        name: \"\",\r\n      },\r\n      // 是否需要回填历史表单数据\r\n      history: false,\r\n    };\r\n  },\r\n\r\n  created() {\r\n    const history = this.$route.query.history;\r\n    this.history = history ? history : false;\r\n    if (history) {\r\n      this.backfillForm();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * 回填表单信息\r\n     */\r\n    backfillForm() {\r\n      const registerUserInfo = this.$store.getters.registerUserInfo;\r\n      registerUserInfo.gender = `${registerUserInfo.gender}`;\r\n      this.form = registerUserInfo;\r\n    },\r\n    /**\r\n     * 上一步\r\n     */\r\n    previous() {\r\n      this.$refs.steps.previous();\r\n    },\r\n\r\n    // 表单校验\r\n    checkFormData() {\r\n      if (this.activeStep == 0) {\r\n        if (!this.form.img) {\r\n          this.$toast(\"请上传导师头像！\");\r\n          return false;\r\n        }\r\n        if (!this.form.name) {\r\n          this.$toast(\"请输入真实姓名！\");\r\n          return false;\r\n        }\r\n        if (!this.form.gender) {\r\n          this.$toast(\"请选择性别！\");\r\n          return false;\r\n        }\r\n        if (!this.form.tel || this.form.tel.length != 11) {\r\n          this.$toast(\"请输入手机号码\");\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      if (this.activeStep == 1) {\r\n        if (!this.form.cert) {\r\n          this.$toast(\"请输入身份证号码\");\r\n          return false;\r\n        }\r\n        if (!this.form.mail) {\r\n          this.$toast(\"请输入电子邮箱\");\r\n          return false;\r\n        }\r\n        if (!this.form.work_address) {\r\n          this.$toast(\"请输入工作单位名称\");\r\n          return false;\r\n        }\r\n        if (!this.form.job) {\r\n          this.$toast(\"请输入工作职务\");\r\n          return false;\r\n        }\r\n        if (!this.form.title) {\r\n          this.$toast(\"请输入职称\");\r\n          return false;\r\n        }\r\n        if (!this.form.location) {\r\n          this.$toast(\"请选择所在区域\");\r\n          return false;\r\n        }\r\n        if (!this.form.address) {\r\n          this.$toast(\"请输入详细的地址信息\");\r\n          return false;\r\n        }\r\n\r\n        return true;\r\n      }\r\n    },\r\n    /**\r\n     * 下一步\r\n     */\r\n    next() {\r\n      if (this.checkFormData()) {\r\n        const aid = this.$store.getters.associationInfo.id;\r\n        this.form.aid = aid;\r\n        if (this.activeStep == \"1\") {\r\n          // 提交注册信息\r\n          this.$request(\"instructor.instructorVerfyAdd\", this.form).then(\r\n            (res) => {\r\n              this.$refs.steps.next();\r\n              setTimeout(() => {\r\n                this.$router.replace(\"/\");\r\n              }, 3000);\r\n            }\r\n          );\r\n        } else {\r\n          this.$refs.steps.next();\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 当前步骤发生改变\r\n     */\r\n    changeSteps(val) {\r\n      this.activeStep = val;\r\n    },\r\n\r\n    onSubmit(values) {\r\n      console.log(\"submit\", values);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.register-container {\r\n  header,\r\n  main {\r\n    padding: px(24);\r\n    background: #ffffff;\r\n  }\r\n\r\n  main {\r\n    margin-top: px(16);\r\n    height: calc(100vh - px(310));\r\n  }\r\n\r\n  .footer {\r\n    padding: 0 px(24);\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: px(16);\r\n    left: 0;\r\n    .step-operation-box {\r\n      .btn-style {\r\n        width: px(339);\r\n        height: px(88);\r\n      }\r\n    }\r\n    .btn-back-style {\r\n      width: px(496);\r\n      height: px(120);\r\n      background: #ffffff;\r\n      border: 1px solid #eeeeee;\r\n      font-size: px(36);\r\n      font-weight: bold;\r\n      color: $primary-color;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0b5c3dd6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0b5c3dd6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b5c3dd6\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","activeStep","on","changeSteps","directives","name","rawName","value","expression","form","$event","previous","_v","next","$router","replace","staticRenderFns","components","Steps","StepOne","StepTwo","StepThree","data","img","gender","mail","job","title","cert","work_address","tel","location","address","history","created","backfillForm","methods","registerUserInfo","$refs","steps","checkFormData","length","$toast","aid","$request","then","setTimeout","val","onSubmit","values","console","log","component"],"sourceRoot":""}