"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[183],{183:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"lecturer-management-container"},[r("header",[r("van-search",{attrs:{background:"#fff",placeholder:"请输入主讲人名字"},on:{search:e.onSearch,clear:e.onClear},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),r("main",[r("p",{staticClass:"main-talker-box-label"},[e._v(" 全部主讲人("+e._s(e.mainTalkerList.length)+") ")]),r("ul",{staticClass:"main-talker-list"},e._l(e.mainTalkerList,(function(t,n){return r("li",{key:n,staticClass:"main-talker-item"},[r("MainTalker",{attrs:{avatarUrl:e.handleStrEmpty(t.img),userName:e.handleStrEmpty(t.name),patrolDistricts:t.area_count,activitySession:t.lecture_count,participation:t.sum_visitor,showMore:!0},on:{update:function(r){return e.onUpdateMainTalker(t)},delete:function(r){return e.onDeleteMainTalker(t.id)}}})],1)})),0)])])},i=[],a=r(76711),s={components:{MainTalker:()=>r.e(1297).then(r.bind(r,21297))},data(){return{keyword:"",currentTradeUnionID:null,mainTalkerList:[],iid:null,aid:null}},async created(){await this.getMemberMe(),this.currentTradeUnionID=this.$store.getters.associationInfo.id,this.mentorListAPI(this.currentTradeUnionID)},methods:{getMemberMe(){this.aid=this.$store.getters.associationInfo.id},onUpdateMainTalker(e){console.log("MainTalker修改:>>",e),this.$router.push({path:"/speakerInformationChanges",query:{iid:e.id,aid:this.aid}})},onDeleteMainTalker(e){console.log("MainTalker删除:>>"),this.$dialog.confirm({title:"删除操作",message:"您将删除该主讲人信息，是否继续？"}).then((()=>{console.log("确认删除 :>>"),this.instructorAssociationDelAPI(e,this.aid)})).catch((()=>{console.log("取消删除 :>>")}))},handleStrEmpty(e){return e||""},async mentorListAPI(e){const t={aid:e},r=await this.$request("instructor.mentorList",t);console.log("导师列表API_res :>> ",r),this.mainTalkerList=(0,a.Ef)(r)},async instructorAssociationDelAPI(e,t){const r={iid:e,aid:t},n=await this.$request("instructor.instructorAssociationDel",r);console.log("工会-讲师-删除API_res :>> ",n),this.mentorListAPI(this.currentTradeUnionID)},onSearch(){this.mainTalkerList=(0,a.o1)(this.mainTalkerList,this.keyword)},onClear(){console.log("onClear :>> "),this.mentorListAPI(this.currentTradeUnionID)}}},o=s,c=r(1001),l=(0,c.Z)(o,n,i,!1,null,"450dbc1c",null),u=l.exports},76711:function(e,t,r){function n(e,t){return e&&t?e/t*100:(console.log("percentage函数参数异常: :>> ",e,t),0)}r.d(t,{Ef:function(){return c},Y_:function(){return u},e9:function(){return n},fS:function(){return o},i_:function(){return a},o1:function(){return s},og:function(){return l},rm:function(){return i}});const i=(e,t)=>{let r=new Date(Date.parse(e)),n=new Date(Date.parse(t));return r>n},a=(e,t,r)=>{switch(t){case"H":case"h":if("H"===r||"h"===r)return e;if("M"===r||"m"===r)return 60*e;if("S"===r||"s"===r)return 60*e*60;console.log("日期转换函数resultUnit参数不合法 :>> ");break;case"M":case"m":if("H"===r||"h"===r)return e/60;if("M"===r||"m"===r)return e;if("S"===r||"s"===r)return 60*e;console.log("日期转换函数resultUnit参数不合法 :>> ");break;case"S":case"s":if("H"===r||"h"===r)return e/60/60;if("M"===r||"m"===r)return e/60;if("S"===r||"s"===r)return e;console.log("日期转换函数resultUnit参数不合法 :>> ");break;default:console.log("日期转换函数targetUnit参数不合法 :>>");break}},s=(e,t,r="name")=>{const n=[];return e.forEach((e=>{const i=e[r].indexOf(t);i>-1&&n.push(e)})),n},o=e=>e.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"),c=e=>{const t=[];for(const r in e)t.push(e[r]);return t.reverse()},l=(e,t)=>{console.log("importType :>> ",e);let r="";return"default"!==e&&"a"!==e||(r="fj"),"gt"===e&&(r="gt"),r===t},u=e=>{switch(e){case"province":return"city";case"city":return"district";case"district":return"street";case"street":return"street";default:break}}}}]);
//# sourceMappingURL=183.9ced104c.js.map