"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[1888],{1888:function(i,t,e){e.r(t),e.d(t,{default:function(){return c}});var a=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"active-dynamic-container",class:{"hide-tab":!this.uid}},[e("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{search:i.onSearch,clear:i.onClear},model:{value:i.keyword,callback:function(t){i.keyword=t},expression:"keyword"}}),e("van-tabs",{attrs:{animated:""},on:{change:i.onSearch},model:{value:i.activeTab,callback:function(t){i.activeTab=t},expression:"activeTab"}},[e("van-tab",{attrs:{title:"全部"}},[e("van-list",{staticClass:"list-style",attrs:{finished:i.finishedDynamic,"finished-text":"没有更多了"},on:{load:i.onLoadDynamic},model:{value:i.loadingDynamic,callback:function(t){i.loadingDynamic=t},expression:"loadingDynamic"}},i._l(i.activeDynamicList,(function(t,a){return e("div",{key:a,on:{click:function(e){return i.goToDetail(t)}}},[e("ActiveRow",{staticClass:"active-row-style",attrs:{data:t}})],1)})),0)],1),e("van-tab",{attrs:{title:"已备案"}},[e("van-list",{staticClass:"list-style",attrs:{finished:i.finishedCertain,"finished-text":"没有更多了"},on:{load:i.onLoadCertain},model:{value:i.loadingCertain,callback:function(t){i.loadingCertain=t},expression:"loadingCertain"}},i._l(i.listBeforeCertainTime,(function(t,a){return e("div",{key:a,on:{click:function(e){return i.goToDetail(t)}}},[e("ActiveRow",{staticClass:"active-row-style",attrs:{data:t}})],1)})),0)],1),e("van-tab",{attrs:{title:"未备案"}},[e("van-list",{staticClass:"list-style",attrs:{finished:i.finishedPeriod,"finished-text":"没有更多了"},on:{load:i.onLoadPeriod},model:{value:i.loadingPeriod,callback:function(t){i.loadingPeriod=t},expression:"loadingPeriod"}},i._l(i.listAfterCertainPeriodTime,(function(t,a){return e("div",{key:a,on:{click:function(e){return i.goToDetail(t)}}},[e("ActiveRow",{staticClass:"active-row-style",attrs:{data:t}})],1)})),0)],1)],1)],1)},s=[],n={components:{ActiveRow:()=>e.e(9876).then(e.bind(e,19876))},data(){return{keyword:"",activeTab:null,loadingDynamic:!1,finishedDynamic:!1,loadingCertain:!1,finishedCertain:!1,loadingPeriod:!1,finishedPeriod:!1,pageDynamic:{limit:10,pageNo:1},pageCertain:{limit:10,pageNo:1},pagePeriod:{limit:10,pageNo:1},aid:null,activeDynamicList:[],listBeforeCertainTime:[],listAfterCertainPeriodTime:[],type:"association"}},computed:{uid(){return this.$store.getters.loginInfo.uid}},async created(){this.aid=this.$store.getters.associationInfo.id,this.initListData()},mounted(){this.uid||(this.activeTab=1)},methods:{async onLoadDynamic(){const i=await this.$request("common.lectureAssociationList",{aid:this.aid,page:this.pageDynamic.pageNo,limit:this.pageDynamic.limit,title:this.keyword}),t=i.data;if(t.length<=0)this.finishedDynamic=!0;else{1==this.pageDynamic.pageNo&&(this.activeDynamicList=[]);for(const i of t)this.activeDynamicList.push(i);this.pageDynamic.pageNo+=1,this.loadingDynamic=!1,this.pageDynamic.pageNo>=i.last_page&&(this.finishedDynamic=!0)}},async onLoadCertain(){const i=await this.$request("common.lectureAssociationList",{aid:this.aid,page:this.pageCertain.pageNo,limit:this.pageCertain.limit,status:1,title:this.keyword}),t=i.data;if(!t.length>0)this.finishedCertain=!0;else{1==this.pageCertain.pageNo&&(this.listBeforeCertainTime=[]);for(const i of t)this.listBeforeCertainTime.push(i);this.pageCertain.pageNo+=1,this.loadingCertain=!1,this.pageCertain.pageNo>=i.last_page&&(this.finishedCertain=!0)}},async onLoadPeriod(){const i=await this.$request("common.lectureAssociationList",{aid:this.aid,page:this.pagePeriod.pageNo,limit:this.pagePeriod.limit,status:0,title:this.keyword}),t=i.data;if(t.length<=0)this.finishedPeriod=!0;else{1==this.pagePeriod.pageNo&&(this.listAfterCertainPeriodTime=[]);for(const i of t)this.listAfterCertainPeriodTime.push(i);this.pagePeriod.pageNo+=1,this.loadingPeriod=!1,this.pagePeriod.pageNo>=i.last_page&&(this.finishedPeriod=!0)}},initListData(){},changeTabs(i){switch(console.log("params :>> ",i),i){case 0:break;case 1:break;case 2:break;default:console.log("Error :>> ","changeTabs参数异常");break}},async listLectureAPI(i,t,e,a){console.log("this.keyword :>> ",this.keyword);const s={title:this.keyword,aid:i,page:t,limit:e,start_date:a,type:this.type},n=await this.$request("common.lectureInfoSearch",s);return console.log("讲座模块-获取列表(活动列表)API_res :>> ",n),n},async listBeforeCertainTimeAPI(i,t,e,a){const s={title:this.keyword,aid:i,page:t,limit:e,start_date:a,type:this.type},n=await this.$request("lecture.listBeforeCertainTime",s);return console.log("讲座模块-某个时间段前的列表(活动列表)API_res :>> ",n),n},async listAfterCertainPeriodTimeAPI(i,t,e,a){const s={title:this.keyword,aid:i,page:t,limit:e,start_date:a,type:this.type},n=await this.$request("lecture.listAfterCertainPeriodTime",s);return console.log("讲座模块-某个时间段后的列表(活动列表)API_res :>> ",n),n},goToDetail(i){this.uid&&(console.log("param :>> ",i),this.$router.push({path:"/activityDetailCheck",query:{id:i.id}}))},initLoadConfig(){this.activeDynamicList=[],this.listBeforeCertainTime=[],this.listAfterCertainPeriodTime=[],this.pageDynamic.pageNo=1,this.pageCertain.pageNo=1,this.pagePeriod.pageNo=1,this.loadingDynamic=!0,this.loadingCertain=!0,this.loadingPeriod=!0,this.finishedDynamic=!1,this.finishedCertain=!1,this.finishedPeriod=!1},onSearch(){this.initLoadConfig(),1===this.activeTab?this.onLoadCertain():2===this.activeTab?this.onLoadPeriod():this.onLoadDynamic()},onClear(){console.log("onClear :>> "),this.initLoadConfig(),1===this.activeTab?this.onLoadCertain():2===this.activeTab?this.onLoadPeriod():this.onLoadDynamic()}}},o=n,r=e(43736),l=(0,r.Z)(o,a,s,!1,null,"0d62b884",null),c=l.exports}}]);
//# sourceMappingURL=1888.71dcd8df.js.map