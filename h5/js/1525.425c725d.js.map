{"version":3,"file":"js/1525.425c725d.js","mappings":"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","sources":["webpack://home_research_h5/./src/views/login/index.vue?7232","webpack://home_research_h5/src/views/login/index.vue","webpack://home_research_h5/./src/views/login/index.vue?4e6d","webpack://home_research_h5/./src/views/login/index.vue","webpack://home_research_h5/./src/utils/common.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('van-image',{attrs:{\"src\":_vm.$store.getters.associationInfo.img,\"fit\":\"cover\"}}),_c('div',{staticClass:\"login-from-box\"},[_c('Card',{staticClass:\"card\"},[_c('div',{staticClass:\"content\"},[_c('Logo',{attrs:{\"imgUrl\":_vm.associationInfo.logo ? _vm.associationInfo.logo : '',\"size\":250,\"round\":\"\",\"border\":\"\"}}),_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.associationInfo.name ? _vm.associationInfo.name : \"暂无名称\")+\" \")]),_c('van-divider',{staticClass:\"divider\"},[_vm._v(\"●\")]),_c('InputTel',{staticClass:\"input-style\",attrs:{\"type\":\"tel\"},on:{\"submit\":_vm.getInputTel}}),_c('InputTel',{attrs:{\"type\":\"validation\",\"tel\":_vm.tel},on:{\"submit\":_vm.getValidation}}),_c('van-button',{staticClass:\"login-btn\",attrs:{\"round\":\"\",\"type\":\"info\"},on:{\"click\":_vm.login}},[_vm._v(\"立即登录\")]),_c('p',{staticClass:\"agreement\"},[_vm._v(\" 登录即同意 \"),_c('Link',{attrs:{\"linkUrl\":\"#;\"}},[_vm._v(\" 用户协议\")]),_vm._v(\" 和 \"),_c('Link',{attrs:{\"linkUrl\":\"#;\"}},[_vm._v(\"隐私政策\")]),_vm._v(\" 首次登录将自动注册 \")],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-container\">\r\n    <van-image\r\n      :src=\"$store.getters.associationInfo.img\"\r\n      fit=\"cover\"\r\n    ></van-image>\r\n    <!-- <van-image\r\n      v-show=\"hashDomain(this.associationInfo.import_type, 'fj')\"\r\n      :src=\"require('@/assets/images/login_background_fj.png')\"\r\n    ></van-image>\r\n    <van-image\r\n      v-show=\"hashDomain(this.associationInfo.import_type, 'gt')\"\r\n      :src=\"require('@/assets/images/login_background_gt.jpg')\"\r\n    ></van-image> -->\r\n\r\n    <div class=\"login-from-box\">\r\n      <Card class=\"card\">\r\n        <div class=\"content\">\r\n          <Logo\r\n            :imgUrl=\"associationInfo.logo ? associationInfo.logo : ''\"\r\n            :size=\"250\"\r\n            round\r\n            border\r\n          />\r\n\r\n          <p class=\"title\">\r\n            {{ associationInfo.name ? associationInfo.name : \"暂无名称\" }}\r\n          </p>\r\n\r\n          <van-divider class=\"divider\">●</van-divider>\r\n\r\n          <InputTel class=\"input-style\" type=\"tel\" @submit=\"getInputTel\" />\r\n          <InputTel type=\"validation\" :tel=\"tel\" @submit=\"getValidation\" />\r\n\r\n          <van-button class=\"login-btn\" round type=\"info\" @click=\"login\"\r\n            >立即登录</van-button\r\n          >\r\n\r\n          <p class=\"agreement\">\r\n            登录即同意\r\n            <Link linkUrl=\"#;\"> 用户协议</Link>\r\n            和\r\n            <Link linkUrl=\"#;\">隐私政策</Link>\r\n            首次登录将自动注册\r\n          </p>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { hashDomain } from \"@/utils/common\";\r\n\r\nexport default {\r\n  components: {\r\n    Card: () => import(\"@/components/Card\"),\r\n    Logo: () => import(\"@/components/Logo\"),\r\n    InputTel: () => import(\"@/components/InputTel\"),\r\n    Link: () => import(\"@/components/Link\"),\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      // 电话号码\r\n      tel: \"\",\r\n      // 验证码\r\n      validateCode: \"\",\r\n      // 当前工会信息\r\n      associationInfo: {},\r\n      // 动图是否加载完成\r\n      bgLoad: false,\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // 获取当前工会信息\r\n    this.$store.dispatch(\"association/associationInfoDomainAPI\");\r\n    this.associationInfo = this.$store.getters.associationInfo;\r\n  },\r\n\r\n  methods: {\r\n    hashDomain,\r\n\r\n    /**\r\n     * 获取输入的手机号数据\r\n     */\r\n    getInputTel(val) {\r\n      this.tel = val;\r\n    },\r\n\r\n    /**\r\n     * 获取输入的验证码数据\r\n     */\r\n    getValidation(val) {\r\n      this.validateCode = val;\r\n    },\r\n    /**\r\n     * 登录\r\n     */\r\n    async login() {\r\n      if (this.tel === \"\" || this.validateCode === \"\") {\r\n        this.$toast(\"手机号及验证码不能为空!\");\r\n        return;\r\n      }\r\n      if (this.tel.length != 11) {\r\n        this.$toast(\"请输入正确的手机号码!\");\r\n        return;\r\n      }\r\n\r\n      // this.$request(\"login.userAuthPhone\", {\r\n      //   phone: this.tel,\r\n      //   code: this.validateCode,\r\n      // }).then((loginInfo) => {\r\n      //   this.$store.commit(\"user/setLoginInfo\", loginInfo);\r\n      // });\r\n\r\n      await this.$store.dispatch(\"user/getLoginInfo\", {\r\n        phone: this.tel,\r\n        code: this.validateCode,\r\n      });\r\n\r\n      const aid = this.$store.getters.associationInfo.id;\r\n      await this.$store.dispatch(\"user/getAccountIdInfo\", aid);\r\n\r\n      this.$router.replace(\"/\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-container {\r\n  .login-from-box {\r\n    position: absolute;\r\n    top: px(570);\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    .card {\r\n      height: 100%;\r\n      .content {\r\n        width: 100%;\r\n        @include hor-center();\r\n        top: -20%;\r\n\r\n        .title {\r\n          font-size: px(40);\r\n          font-weight: bold;\r\n        }\r\n\r\n        .divider {\r\n          margin: px(36) px(24);\r\n          color: $border-color;\r\n        }\r\n\r\n        .input-style {\r\n          margin-bottom: px(32);\r\n        }\r\n\r\n        .login-btn {\r\n          margin-top: px(64);\r\n          width: px(496);\r\n          height: px(120);\r\n          background: $primary-color;\r\n          font-size: px(36);\r\n        }\r\n\r\n        .agreement {\r\n          margin-top: px(48);\r\n          font-size: px(24);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4cd220d4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4cd220d4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cd220d4\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * 计算百分比\r\n * @param {Number} num 数量\r\n * @param {Number} total 总数\r\n * @returns {Number} 百分比\r\n */\r\nexport function percentage(num, total) {\r\n  if (num && total) {\r\n    return (num / total) * 100;\r\n  }\r\n  console.log(\"percentage函数参数异常: :>> \", num, total);\r\n  return 0;\r\n}\r\n\r\n/**\r\n * 比较两个日期大小\r\n * @param d1 {dateString} 第一个日期\r\n * @param d2 {dateString} 第二个日期\r\n *\r\n * @return Boolean\r\n * */\r\nexport const compareDate = (d1, d2) => {\r\n  let date1 = new Date(Date.parse(d1));\r\n  let date2 = new Date(Date.parse(d2));\r\n  return date1 > date2;\r\n};\r\n\r\n/**\r\n * 时间转换工具函数\r\n * @param {Number} time 当前时间数字\r\n * @param {String} targetUnit 当前时间单位(时H&h|分M&m|S*s秒)\r\n * @param {String} resultUnit 转换结果时间单位(时H&h|分M&m|S*s秒)\r\n * @returns 返回转换时间结果\r\n */\r\nexport const timeConversion = (time, targetUnit, resultUnit) => {\r\n  switch (targetUnit) {\r\n    case \"H\":\r\n    case \"h\":\r\n      if (resultUnit === \"H\" || resultUnit === \"h\") {\r\n        return time;\r\n      }\r\n      if (resultUnit === \"M\" || resultUnit === \"m\") {\r\n        return time * 60;\r\n      }\r\n      if (resultUnit === \"S\" || resultUnit === \"s\") {\r\n        return time * 60 * 60;\r\n      }\r\n      console.log(\"日期转换函数resultUnit参数不合法 :>> \");\r\n      break;\r\n    case \"M\":\r\n    case \"m\":\r\n      if (resultUnit === \"H\" || resultUnit === \"h\") {\r\n        return time / 60;\r\n      }\r\n      if (resultUnit === \"M\" || resultUnit === \"m\") {\r\n        return time;\r\n      }\r\n      if (resultUnit === \"S\" || resultUnit === \"s\") {\r\n        return time * 60;\r\n      }\r\n      console.log(\"日期转换函数resultUnit参数不合法 :>> \");\r\n      break;\r\n    case \"S\":\r\n    case \"s\":\r\n      if (resultUnit === \"H\" || resultUnit === \"h\") {\r\n        return time / 60 / 60;\r\n      }\r\n      if (resultUnit === \"M\" || resultUnit === \"m\") {\r\n        return time / 60;\r\n      }\r\n      if (resultUnit === \"S\" || resultUnit === \"s\") {\r\n        return time;\r\n      }\r\n      console.log(\"日期转换函数resultUnit参数不合法 :>> \");\r\n      break;\r\n\r\n    default:\r\n      console.log(\"日期转换函数targetUnit参数不合法 :>>\");\r\n      break;\r\n  }\r\n};\r\n\r\n/**\r\n * 处理搜索逻辑\r\n * @param {Array,Object} list 被搜索的数据源列表\r\n * @param {String} keyword 关键字\r\n * @param {String} keyname 要搜索的关键字字段名称,默认为name\r\n * @returns 返回过滤之后的列表\r\n */\r\nexport const handleSearch = (list, keyword, keyname = \"name\") => {\r\n  const newList = [];\r\n  list.forEach((item) => {\r\n    const hashVal = item[keyname].indexOf(keyword);\r\n    if (hashVal > -1) {\r\n      newList.push(item);\r\n    }\r\n  });\r\n  return newList;\r\n};\r\n\r\n/**\r\n * 隐藏手机号\r\n * @param {String} phone 手机号\r\n * @returns 隐藏过后的手机号\r\n */\r\nexport const handlePhoneHidden = (phone) => {\r\n  return phone.replace(/(\\d{3})\\d{4}(\\d{4})/, \"$1****$2\");\r\n};\r\n\r\n/**\r\n * 排序 反向排序\r\n * @param {Object} obj obj对象\r\n */\r\nexport const handleSortReverse = (obj) => {\r\n  const arr = [];\r\n  for (const key in obj) {\r\n    arr.push(obj[key]);\r\n  }\r\n  return arr.reverse();\r\n};\r\n\r\n/**\r\n * 判断当前所属平台(福建/古田)环境\r\n * @param {String} importType 源类型\r\n * @param {String} targretType 目标类型\r\n * @returns 是否是当前需要的类型\r\n */\r\nexport const hashDomain = (importType, targretType) => {\r\n  console.log(\"importType :>> \", importType);\r\n  let sourceType = \"\";\r\n  if (importType === \"default\" || importType === \"a\") {\r\n    sourceType = \"fj\";\r\n  }\r\n\r\n  if (importType === \"gt\") {\r\n    sourceType = \"gt\";\r\n  }\r\n\r\n  return sourceType === targretType;\r\n};\r\n\r\n/**\r\n * 获取显示区域等级\r\n * @param {String} modelType 当前区域等级\r\n * @returns 返回当前区域的下级区域等级\r\n */\r\nexport const handleAreaLevel = (modelType) => {\r\n  switch (modelType) {\r\n    case \"province\":\r\n      return \"city\";\r\n    case \"city\":\r\n      return \"district\";\r\n    case \"district\":\r\n      return \"street\";\r\n    case \"street\":\r\n      return \"street\";\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$store","getters","associationInfo","img","logo","_v","_s","name","on","getInputTel","tel","getValidation","login","staticRenderFns","components","Card","Logo","InputTel","Link","data","validateCode","bgLoad","created","dispatch","methods","hashDomain","val","async","$toast","length","phone","code","aid","id","$router","replace","component","percentage","num","total","console","log","compareDate","d1","d2","date1","Date","parse","date2","timeConversion","time","targetUnit","resultUnit","handleSearch","list","keyword","keyname","newList","forEach","item","hashVal","indexOf","push","handlePhoneHidden","handleSortReverse","obj","arr","key","reverse","importType","targretType","sourceType","handleAreaLevel","modelType"],"sourceRoot":""}