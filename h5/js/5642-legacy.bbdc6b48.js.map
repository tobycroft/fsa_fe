{"version":3,"file":"js/5642-legacy.bbdc6b48.js","mappings":"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","sources":["webpack://home_research_h5/./src/views/speakingData/speakingData.vue?2617","webpack://home_research_h5/src/views/speakingData/speakingData.vue","webpack://home_research_h5/./src/views/speakingData/speakingData.vue?0172","webpack://home_research_h5/./src/views/speakingData/speakingData.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"root\"},[_c('img',{staticClass:\"back-icon\",attrs:{\"src\":require('@/assets/images/back_icon.png'),\"alt\":\"\"},on:{\"click\":_vm.goBack}}),_c('header',[_c('img',{staticClass:\"head-img\",attrs:{\"src\":require('@/assets/images/speaking_bg.png'),\"alt\":\"\"}})]),_c('main',[_c('div',{staticClass:\"main-wrap\"},[_c('div',{staticClass:\"recent-box\"},[_c('h2',[_vm._v(\"近期新增宣讲数据汇总\")]),_c('p',[_vm._v(\" 数据时间\"+_vm._s(_vm.handleStartTimeFormat(_vm.start_date))+\"-\"+_vm._s(_vm.handleEndTimeFormat(_vm.end_date))+\" \")]),_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"flex1 flex-center direction-column bor\"},[_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.total))]),_c('div',{staticClass:\"char\"},[_vm._v(\"新增场次\")])]),_c('div',{staticClass:\"flex1 flex-center direction-column\"},[_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.count))]),_c('div',{staticClass:\"char\"},[_vm._v(\"新增覆盖人数\")])])])]),_c('div',{staticClass:\"gap-char-wrap flex-center\"},[_c('img',{staticClass:\"char-img\",attrs:{\"src\":require('@/assets/images/speaking_char.png'),\"alt\":\"\"}})]),_c('div',{staticClass:\"list-wrap\"},_vm._l((_vm.recentList),function(item){return _c('div',{key:item.id,staticClass:\"list-item\"},[_c('img',{staticClass:\"bar-img\",attrs:{\"src\":require('@/assets/images/speaking_bar.png'),\"alt\":\"\"}}),_c('div',{staticClass:\"message-box\"},[_c('div',{staticClass:\"gradient-wrap\"},[_c('p',[_vm._v(\" 宣讲时间:\"+_vm._s(_vm.handleTimeFormat(item.start_date))+\"-\"+_vm._s(_vm.handleLecEndTime(item.start_date, item.duration))+\" \")])]),_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"message-content\"},[_c('h3',[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"char\"},[_vm._v(\" 宣讲讲师：\"+_vm._s(item.instructor_info.name)+\" \")]),_c('div',{staticClass:\"char\"},[_vm._v(\"听课人数：\"+_vm._s(item.visitor)+\"人\")]),_c('div',{staticClass:\"char\"},[_vm._v(\"主办单位：\"+_vm._s(item.host_info.name))])])])])}),0),_c('p',{staticClass:\"loc-char\"},[_vm._v(\"“亲师友”提供技术支持\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"root\">\n    <img class=\"back-icon\" @click=\"goBack\" :src=\"require('@/assets/images/back_icon.png')\" alt=\"\">\n\n    <header>\n      <img class=\"head-img\" :src=\"require('@/assets/images/speaking_bg.png')\" alt=\"\" />\n    </header>\n    <main>\n      <div class=\"main-wrap\">\n        <div class=\"recent-box\">\n          <h2>近期新增宣讲数据汇总</h2>\n          <p>\n            数据时间{{ handleStartTimeFormat(start_date) }}-{{\n                handleEndTimeFormat(end_date)\n            }}\n          </p>\n          <div class=\"flex\">\n            <div class=\"flex1 flex-center direction-column bor\">\n              <div class=\"num\">{{ total }}</div>\n              <div class=\"char\">新增场次</div>\n            </div>\n            <div class=\"flex1 flex-center direction-column\">\n              <div class=\"num\">{{ count }}</div>\n              <div class=\"char\">新增覆盖人数</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"gap-char-wrap flex-center\">\n          <img class=\"char-img\" :src=\"require('@/assets/images/speaking_char.png')\" alt=\"\" />\n        </div>\n        <div class=\"list-wrap\">\n          <!-- <van-list\n            class=\"main-talker-list\"\n            v-model=\"loading\"\n            :finished=\"finished\"\n            finished-text=\"没有更多了\"\n            @load=\"onLoad\"\n          > -->\n          <div class=\"list-item\" v-for=\"item in recentList\" :key=\"item.id\">\n            <!-- <div></div> -->\n            <img class=\"bar-img\" :src=\"require('@/assets/images/speaking_bar.png')\" alt=\"\" />\n            <div class=\"message-box\">\n              <div class=\"gradient-wrap\">\n                <p>\n                  宣讲时间:{{ handleTimeFormat(item.start_date) }}-{{\n                      handleLecEndTime(item.start_date, item.duration)\n                  }}\n                </p>\n              </div>\n              <div class=\"line\"></div>\n              <div class=\"message-content\">\n                <h3>{{ item.title }}</h3>\n                <div class=\"char\">\n                  宣讲讲师：{{ item.instructor_info.name }}\n                </div>\n                <div class=\"char\">听课人数：{{ item.visitor }}人</div>\n                <div class=\"char\">主办单位：{{ item.host_info.name }}</div>\n              </div>\n            </div>\n          </div>\n          <!-- </van-list> -->\n        </div>\n        <p class=\"loc-char\">“亲师友”提供技术支持</p>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport dateformat from \"dateformat\";\nimport moment from \"moment\";\nexport default {\n  data() {\n    return {\n      // 近期列表\n      recentList: [],\n      total: 0,\n      count: 0,\n      start_date: \"2022-05-10\",\n      end_date: \"2022-11-15\",\n      loading: false,\n      finished: false,\n      limit: 50,\n      page: 1,\n\n    };\n  },\n  async created() {\n    // this.start_date = moment()\n    //   .isoWeekday(1)\n    //   .subtract(3, \"days\")\n    //   .format(\"YYYY-MM-DD\");\n    // this.end_date = moment()\n    //   .isoWeekday(7)\n    //   .subtract(2, \"days\")\n    //   .format(\"YYYY-MM-DD\");\n    // console.log(\"end_date\", this.end_date);\n    if (\n      !this.$store.getters.associationInfo ||\n      !this.$store.getters.associationInfo.id\n    ) {\n      await this.$store.dispatch(\"association/associationInfoDomainAPI\");\n    }\n    this.recentListAPI();\n  },\n  methods: {\n    async onLoad() {\n      // 异步更新数据\n      // setTimeout 仅做示例，真实场景中一般为 ajax 请求\n\n      const res = await this.recentListAPI();\n      console.log(\"res :>> \", res);\n      if (this.total >= res.total) {\n        return\n      }\n\n      const list = res.data\n      if (list.length <= 0) {\n        this.finished = true;\n        return;\n      }\n\n      for (const item of res.data) {\n        this.recentList.push(item);\n      }\n\n      this.page += 1;\n\n      // 加载状态结束\n      this.loading = false;\n\n      // 数据全部加载完成\n      if (this.total >= res.total) {\n        this.finished = true;\n      }\n    },\n    handleTimeFormat(date) {\n      return moment(date).format(\"YYYY年MM月DD日 HH:mm\");\n      // return dateformat(date, \"yyyy年mm月dd日 HH:MM\")\n    },\n    handleStartTimeFormat(date) {\n      return dateformat(date, \"yyyy年mm月dd日\");\n    },\n    handleEndTimeFormat(date) {\n      return dateformat(date, \"mm月dd日\");\n    },\n    handleLecEndTime(date, duration) {\n      return moment(date).add(duration, \"seconds\").format(\"HH:mm\");\n    },\n    goBack() {\n      this.$router.go(-1)\n    },\n    /**\n     * 近期列表API\n     */\n    async recentListAPI() {\n      const aid = this.$store.getters.associationInfo.id;\n      const data = {\n        aid,\n        start_date: this.start_date,\n        // start_date: \"2022-04-11\",\n        end_date: this.end_date,\n        // limit: this.limit,\n        limit: 233,\n        page: this.page,\n      };\n      const res = await this.$request(\"lecture.recentList2\", data);\n      console.log(\"近期列表API_res :>> \", res);\n      if (res.data.length > 50) {\n        this.recentList = res.data.splice(0, 50)\n      } else {\n        this.recentList = res.data;\n      }\n      this.total = res.total;\n      this.count = res.count;\n      // this.end_date = res.data[0].start_date\n      // if(res.data.length >= 50) {\n      //  this.start_date = res.data[49].start_date\n      // }\n      return res\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.root {\n  width: 100vw;\n  height: 100vh;\n  overflow: auto;\n  background: #080f85;\n\n  .back-icon {\n    position: fixed;\n    width: px(66);\n    height: px(66);\n    top: px(24);\n    left: px(24);\n    z-index: 100;\n  }\n\n  header {\n    width: 100%;\n    height: px(641);\n\n    .head-img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  main {\n    background: #080f85;\n    position: relative;\n\n    .main-wrap {\n      position: absolute;\n      top: calc(px(426) - px(641));\n      border-radius: px(40) px(40) 0px 0px;\n      padding: px(40) px(24);\n      background: #080f85;\n      box-sizing: border-box;\n      width: 100vw;\n    }\n\n    .recent-box {\n      width: 100%;\n      height: px(396);\n      background: url(\"@/assets/images/recent_speaking_box.png\");\n      background-size: cover;\n      padding-top: px(102);\n      box-sizing: border-box;\n\n      h2 {\n        margin: 0;\n        text-align: center;\n        font-size: px(40);\n        font-family: PingFang SC-Bold, PingFang SC;\n        font-weight: bold;\n        color: #333333;\n      }\n\n      p {\n        margin-top: px(5);\n        margin-bottom: px(24);\n        text-align: center;\n        font-size: px(24);\n        font-family: PingFang SC-Light, PingFang SC;\n        font-weight: 300;\n        color: #333333;\n      }\n\n      .bor {\n        border-right: 1px solid #eee;\n      }\n\n      .num {\n        font-size: px(64);\n        font-family: PingFang SC-Bold, PingFang SC;\n        font-weight: bold;\n        color: #0077ff;\n      }\n\n      .char {\n        font-size: px(26);\n        font-family: PingFang SC-Regular, PingFang SC;\n        font-weight: 400;\n        color: #999999;\n      }\n    }\n\n    .gap-char-wrap {\n      height: px(166);\n\n      .char-img {\n        width: px(344);\n        height: px(67);\n      }\n    }\n\n    .list-wrap {\n      width: 100%;\n\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n\n      .list-item {\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        position: relative;\n        margin-bottom: px(72);\n        // height: px(342);\n\n        .bar-img {\n          width: 100%;\n          height: px(64);\n          position: absolute;\n          top: px(-32);\n          // left: 0;\n          // background: linear-gradient(180deg, #CBEAFF 0%, #48AEF6 100%);\n\n          // opacity: 0.9;\n          border-radius: px(16);\n          z-index: 1;\n        }\n\n        .message-box {\n          // margin-bottom: px(36);\n          z-index: 10;\n          // position: absolute;\n          top: px(32);\n\n          width: px(674);\n          // height: px(342);\n          box-sizing: border-box;\n          background: #ffffff;\n          border-radius: px(8);\n\n          .gradient-wrap {\n            border-radius: px(8) px(8) 0 0;\n            // position: absolute;\n            // top: 0;\n            // left: 0;\n            // width: px(674);\n\n            background: linear-gradient(180deg, #acc8ff 0%, #ffffff 100%);\n            height: px(56);\n          }\n          .message-content {\n            padding: 0 px(32) px(8) px(32);\n          }\n\n          p {\n            padding: px(32) 0 0 px(32);\n            font-size: px(24);\n            font-family: PingFang SC-Regular, PingFang SC;\n            font-weight: 400;\n            color: #999999;\n            // margin-bottom: px(24);\n          }\n\n          .line {\n            padding: px(16) 0;\n            height: 0px;\n            border-bottom: 1px solid #eee;\n          }\n\n          h3 {\n            font-size: px(32);\n            font-family: PingFang SC-Bold, PingFang SC;\n            font-weight: bold;\n            color: #333333;\n            margin-bottom: px(16);\n          }\n\n          .char {\n            font-size: px(28);\n            font-family: PingFang SC-Regular, PingFang SC;\n            font-weight: 400;\n            color: #999999;\n            margin-bottom: px(16);\n          }\n        }\n      }\n    }\n  }\n\n  .loc-char {\n    font-size: px(24);\n    font-family: PingFang SC-Regular, PingFang SC;\n    font-weight: 400;\n    color: #cccccc;\n    text-align: center;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./speakingData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./speakingData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./speakingData.vue?vue&type=template&id=a2945328&scoped=true&\"\nimport script from \"./speakingData.vue?vue&type=script&lang=js&\"\nexport * from \"./speakingData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./speakingData.vue?vue&type=style&index=0&id=a2945328&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2945328\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goBack","_v","_s","handleStartTimeFormat","start_date","handleEndTimeFormat","end_date","total","count","_l","item","key","id","handleTimeFormat","handleLecEndTime","duration","title","instructor_info","name","visitor","host_info","staticRenderFns","data","recentList","loading","finished","limit","page","methods","res","console","list","date","format","dateformat","add","$router","go","aid","component"],"sourceRoot":""}