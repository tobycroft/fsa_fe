"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[4416],{64416:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"step-two-container"},[r("div",{staticClass:"form-style"},[r("van-form",{on:{submit:t.onSubmit}},[r("CardForm",{staticClass:"form-item"},[r("van-field",{attrs:{name:"workUnits",label:"工作单位",placeholder:"请输入工作单位名称"},model:{value:t.workUnits,callback:function(e){t.workUnits=e},expression:"workUnits"}})],1),r("CardForm",{staticClass:"form-item"},[r("van-field",{attrs:{name:"idCard",label:"身份证号",placeholder:"请输入身份证号码"},model:{value:t.idCard,callback:function(e){t.idCard=e},expression:"idCard"}})],1),r("CardForm",{staticClass:"form-item"},[r("van-field",{attrs:{type:"tel",name:"tel",label:"通讯方式",placeholder:"请输入通讯方式",rules:[{required:!0,message:"请输入通讯方式"}]},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}})],1),r("CardForm",{staticClass:"form-item"},[r("div",{on:{click:function(e){t.showPopup=!0}}},[r("van-field",{staticClass:"not-disable-style",attrs:{name:"area",label:"所在区域",placeholder:"请选择所在区域",disabled:""},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}})],1)]),r("CardForm",{staticClass:"form-item"},[r("van-field",{attrs:{name:"address",rows:"2",autosize:"",label:"通讯地址",type:"textarea",maxlength:"50",placeholder:"请输入详细的地址信息","show-word-limit":""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),r("van-button",{staticClass:"btn-style",attrs:{round:"",block:"",type:"info","native-type":"submit",required:""}},[t._v(" 保存修改 ")])],1)],1),r("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[r("van-area",{attrs:{title:"标题","area-list":t.areaList},on:{cancel:function(e){t.showPopup=!1},confirm:t.confirm}})],1)],1)},s=[],i=r(16198),o=r(62032),n=(r(35666),r(41539),r(78783),r(33948),r(68309),r(62149)),c={components:{CardForm:function(){return r.e(7329).then(r.bind(r,77329))}},props:{source:{type:Object,default:function(){}}},watch:{source:function(){this.initData()}},data:function(){return{iid:"",aid:"",workUnits:"",idCard:"",tel:"",area:"",address:"",areaList:n.H,showPopup:!1}},created:function(){this.initData()},methods:{onSubmit:function(t){console.log("values :>> ",t),this.updateLecturerInformationAPI()},confirm:function(t){console.log("areaArr :>> ",t),this.area="";var e,r=(0,o.Z)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;this.area+="".concat(a.name," ")}}catch(s){r.e(s)}finally{r.f()}this.showPopup=!1},initData:function(){this.iid=this.$store.getters.accountIdInfo.iid,this.aid=this.$store.getters.associationInfo.id,console.log("this.source :>> ",this.source),this.workUnits=this.source.instructor_info.work_address,this.idCard=this.source.instructor_info.cert,this.tel=this.source.instructor_info.tel,this.area=this.source.instructor_info.location,this.address=this.source.instructor_info.address},updateLecturerInformationAPI:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={img:t.source.img,name:t.source.name,gender:"".concat(t.source.gender),mail:t.source.instructor_info.mail,job:t.source.instructor_info.job,title:t.source.instructor_info.title,cert:t.idCard,work_address:t.workUnits,tel:t.tel,location:t.area,address:t.address,mtids:"",iid:t.iid,aid:t.aid,is_admin:!0},e.next=3,t.$request("instructor.updateLecturerInformation",r);case 3:a=e.sent,console.log("工会功能-更新讲师信息API_res :>> ",a),t.nextStep();case 6:case"end":return e.stop()}}),e)})))()},nextStep:function(){this.$emit("nextStep")}}},l=c,u=r(1001),d=(0,u.Z)(l,a,s,!1,null,"ee3fcf56",null),f=d.exports}}]);
//# sourceMappingURL=4416-legacy.f70ac3ec.js.map