"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[4628],{54628:function(t,e,i){i.r(e),i.d(e,{default:function(){return f}});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"active-dynamic-container"},[i("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{search:t.onSearch,clear:t.onClear},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),i("van-tabs",{attrs:{animated:""},on:{change:t.changeTabs},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[i("van-tab",{attrs:{title:"全部"}},[i("ul",{staticClass:"list-style"},t._l(t.activeDynamicList,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.goToDetail(e)}}},[i("ActiveRow",{staticClass:"active-row-style",attrs:{data:e}})],1)})),0)]),i("van-tab",{attrs:{title:"已备案"}},[i("ul",{staticClass:"list-style"},t._l(t.listBeforeCertainTime,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.goToDetail(e)}}},[i("ActiveRow",{staticClass:"active-row-style",attrs:{data:e}})],1)})),0),i("div",{staticClass:"list-style"})]),i("van-tab",{attrs:{title:"已提交"}},[i("ul",{staticClass:"list-style"},t._l(t.listAfterCertainPeriodTime,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.goToDetail(e)}}},[i("ActiveRow",{staticClass:"active-row-style",attrs:{data:e}})],1)})),0)])],1)],1)},a=[],n=i(16198),s=(i(35666),i(41539),i(78783),i(33948),i(76711)),o={components:{ActiveRow:function(){return i.e(6177).then(i.bind(i,16177))}},data:function(){return{keyword:"",activeTab:null,page:{limit:999999999,pageNo:1},aid:null,activeDynamicList:[],listBeforeCertainTime:[],listAfterCertainPeriodTime:[],type:"association"}},created:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.aid=t.$store.getters.associationInfo.id,t.initListData();case 2:case"end":return e.stop()}}),e)})))()},methods:{initListData:function(){this.listLectureAPI(this.aid,this.page.pageNo,this.page.limit),this.listBeforeCertainTimeAPI(this.aid,this.page.pageNo,this.page.limit,this.$dateFormat(new Date,"yyyy-mm-dd")),this.listAfterCertainPeriodTimeAPI(this.aid,this.page.pageNo,this.page.limit,this.$dateFormat(new Date,"yyyy-mm-dd"))},changeTabs:function(t){switch(console.log("params :>> ",t),t){case 0:this.listLectureAPI(this.aid,this.page.pageNo,this.page.limit);break;case 1:this.listBeforeCertainTimeAPI(this.aid,this.page.pageNo,this.page.limit,this.$dateFormat(new Date,"yyyy-mm-dd"));break;case 2:this.listAfterCertainPeriodTimeAPI(this.aid,this.page.pageNo,this.page.limit,this.$dateFormat(new Date,"yyyy-mm-dd"));break;default:console.log("Error :>> ","changeTabs参数异常");break}},listLectureAPI:function(t,e,i,r){var a=this;return(0,n.Z)(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={aid:t,page:e,limit:i,start_date:r,type:a.type},n.next=3,a.$request("common.listLecture",s);case 3:o=n.sent,console.log("讲座模块-获取列表(活动列表)API_res :>> ",o),a.activeDynamicList=o;case 6:case"end":return n.stop()}}),n)})))()},listBeforeCertainTimeAPI:function(t,e,i,r){var a=this;return(0,n.Z)(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={aid:t,page:e,limit:i,start_date:r,type:a.type},n.next=3,a.$request("lecture.listBeforeCertainTime",s);case 3:o=n.sent,console.log("讲座模块-某个时间段前的列表(活动列表)API_res :>> ",o),a.listBeforeCertainTime=o;case 6:case"end":return n.stop()}}),n)})))()},listAfterCertainPeriodTimeAPI:function(t,e,i,r){var a=this;return(0,n.Z)(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={aid:t,page:e,limit:i,start_date:r,type:a.type},n.next=3,a.$request("lecture.listAfterCertainPeriodTime",s);case 3:o=n.sent,console.log("讲座模块-某个时间段后的列表(活动列表)API_res :>> ",o),a.listAfterCertainPeriodTime=o;case 6:case"end":return n.stop()}}),n)})))()},goToDetail:function(t){console.log("param :>> ",t),this.$router.push({path:"/activeDynamicDetails",query:{id:t.id}})},onSearch:function(){this.activeDynamicList=(0,s.o1)(this.activeDynamicList,this.keyword,"title"),this.listBeforeCertainTime=(0,s.o1)(this.listBeforeCertainTime,this.keyword,"title"),this.listAfterCertainPeriodTime=(0,s.o1)(this.listAfterCertainPeriodTime,this.keyword,"title"),""===this.keyword&&this.initListData()},onClear:function(){console.log("onClear :>> "),this.initListData()}}},c=o,u=i(1001),l=(0,u.Z)(c,r,a,!1,null,"373af76f",null),f=l.exports},76711:function(t,e,i){i.d(e,{Ef:function(){return c},Y_:function(){return l},e9:function(){return r},fS:function(){return o},i_:function(){return n},o1:function(){return s},og:function(){return u},rm:function(){return a}});i(41539),i(54747),i(74916),i(15306);function r(t,e){return t&&e?t/e*100:(console.log("percentage函数参数异常: :>> ",t,e),0)}var a=function(t,e){var i=new Date(Date.parse(t)),r=new Date(Date.parse(e));return i>r},n=function(t,e,i){switch(e){case"H":case"h":if("H"===i||"h"===i)return t;if("M"===i||"m"===i)return 60*t;if("S"===i||"s"===i)return 60*t*60;console.log("日期转换函数resultUnit参数不合法 :>> ");break;case"M":case"m":if("H"===i||"h"===i)return t/60;if("M"===i||"m"===i)return t;if("S"===i||"s"===i)return 60*t;console.log("日期转换函数resultUnit参数不合法 :>> ");break;case"S":case"s":if("H"===i||"h"===i)return t/60/60;if("M"===i||"m"===i)return t/60;if("S"===i||"s"===i)return t;console.log("日期转换函数resultUnit参数不合法 :>> ");break;default:console.log("日期转换函数targetUnit参数不合法 :>>");break}},s=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",r=[];return t.forEach((function(t){var a=t[i].indexOf(e);a>-1&&r.push(t)})),r},o=function(t){return t.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")},c=function(t){var e=[];for(var i in t)e.push(t[i]);return e.reverse()},u=function(t,e){console.log("importType :>> ",t);var i="";return"default"!==t&&"a"!==t||(i="fj"),"gt"===t&&(i="gt"),i===e},l=function(t){switch(t){case"province":return"city";case"city":return"district";case"district":return"street";case"street":return"street";default:break}}}}]);
//# sourceMappingURL=4628-legacy.a86f83d1.js.map