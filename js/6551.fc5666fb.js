"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[6551],{96551:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"members-audit-container"},[i("header",[i("van-search",{attrs:{background:"#fff",placeholder:"请输入主讲人名字"},on:{search:e.onSearch,clear:e.onClear},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),i("main",[i("van-tabs",{staticClass:"tabs-style",attrs:{color:"#0077FF"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[i("van-tab",{attrs:{title:"审核列表("+e.reviewList.length+")"}},[i("ul",{staticClass:"review-list"},[e._l(e.reviewList,(function(t,s){return i("li",{key:s,staticClass:"review-list-item"},[i("ReviewListRow",{attrs:{source:t,showOperation:""},on:{fail:function(i){return e.verifydenyAPI(t.instructor_info.iid)},success:function(i){return e.verifyApproveAPI(t.instructor_info.iid)},click:function(i){return e.goToDetail(t)}}})],1)})),i("NoRecord",{directives:[{name:"show",rawName:"v-show",value:e.reviewList.length<=0,expression:"reviewList.length <= 0"}]})],2)]),i("van-tab",{attrs:{title:"已审核"}},[i("ul",{staticClass:"review-list"},[e._l(e.approvedList,(function(t,s){return i("li",{key:s,staticClass:"review-list-item"},[i("ReviewListRow",{attrs:{status:""},on:{click:function(i){return e.goToDetail(t)}}})],1)})),i("NoRecord",{directives:[{name:"show",rawName:"v-show",value:e.approvedList.length<=0,expression:"approvedList.length <= 0"}]})],2)])],1)],1)])},r=[],a={components:{ReviewListRow:()=>i.e(7607).then(i.bind(i,77607)),NoRecord:()=>i.e(5847).then(i.bind(i,35847))},data(){return{keyword:"",active:2,aid:"",reviewList:[],approvedList:[]}},async created(){await this.reqMemberMeAPI(),this.initListData()},methods:{async verifyApproveAPI(e){const t={iid:e,mtids:0},i=await this.$request("association.verifyApprove",t);console.log("成员审核-通过_APIres :>> ",i),this.instructorVerifyListAPI(this.aid,1)},async verifydenyAPI(e){const t={iid:e,mtids:0},i=await this.$request("association.verifyApprove",t);console.log("成员审核-失败API_res :>> ",i),this.instructorVerifyListAPI(this.aid,0)},goToDetail(e){console.log("row :>> ",e),this.$router.push({path:"/membersAuditDetails",query:{iid:e.instructor_info.iid,aid:e.aid}})},async reqMemberMeAPI(){const e=await this.$request("association.reqMemberMe");console.log("我的信息API_res :>> ",e),this.aid=e.aid},initListData(){this.instructorVerifyListAPI(this.aid,0),this.instructorVerifyListAPI(this.aid,1)},async instructorVerifyListAPI(e,t){const i={aid:e,status:t},s=await this.$request("instructor.instructorVerifyList",i);console.log("验证-列表API_res :>> ",s),0===t&&(this.reviewList=s),1===t&&(this.approvedList=s)},handleSearch(e,t){const i=[];return e.forEach((e=>{console.log("item :>> ",e.name);const s=e.name.indexOf(t);s>-1&&i.push(e)})),i},onSearch(){this.reviewList=this.handleSearch(this.reviewList,this.keyword),this.approvedList=this.handleSearch(this.approvedList,this.keyword)},onClear(){console.log("onClear :>> "),this.initListData()}}},o=a,n=i(1001),c=(0,n.Z)(o,s,r,!1,null,"52604bac",null),l=c.exports}}]);
//# sourceMappingURL=6551.fc5666fb.js.map