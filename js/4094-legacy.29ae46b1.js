"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[4094],{64094:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"record-container"},[s("div",{staticClass:"card-box"},[s("p",{staticClass:"card-title-style"},[e._v("现场记录")]),s("Card",{staticClass:"card-style"},[s("div",[s("van-uploader",{staticClass:"upload-style",attrs:{"before-delete":e.beforeDelete,"after-read":e.afterRead,"upload-text":"上传图片","upload-icon":r(62735)},model:{value:e.records,callback:function(t){e.records=t},expression:"records"}})],1),s("div",{staticClass:"record-footer-box flex"},[s("div",{staticClass:"record-left flex-start"},[s("p",[e._v("学员人数")])]),s("div",{staticClass:"record-right flex-end"},[s("p",{staticClass:"record-label-style"},[e._v(e._s(e.activityVisitor))]),s("p",[e._v("人")])])])])],1)])},n=[],i=r(16198),a=(r(35666),r(41539),r(78783),r(33948),r(54747),r(38862),r(21249),r(40561),{components:{Card:function(){return r.e(3314).then(r.bind(r,53314))}},props:{activityId:{type:String,default:""},activityVisitor:{type:String,default:""}},data:function(){return{records:[]}},created:function(){this.getRecords()},methods:{getRecords:function(){var e=this;this.$request("lecture.lectureRecord2List",{lid:this.activityId}).then((function(t){if(t[e.activityId]&&t[e.activityId]){var r=[];t[e.activityId].forEach((function(e){e&&r.push({message:"上传成功",status:"success",url:e})})),e.records=r}else e.records=[]}))},saveRecords:function(){this.$request("lecture.lectureRecord2Instructor",{lid:this.activityId,title:"",content:"",imgs:JSON.stringify(this.records.map((function(e){return e.url})))}).then((function(e){console.log(e)}))},beforeDelete:function(e,t){var r=this;this.$dialog.confirm({title:"",message:"您将删除该现场图片，是否继续？",confirmButtonColor:"#2374FF",cancelButtonColor:"#999999"}).then((function(){r.records.splice(t.index,1),r.saveRecords()})).catch((function(){console.log("取消删除 :>>")}))},afterRead:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function r(){var s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.status="uploading",e.message="上传中...",s={file:e.file},r.next=5,t.$request("aoss.fileUpload",s);case 5:n=r.sent,e.status="success",e.message="上传成功",e.url=n,t.saveRecords();case 10:case"end":return r.stop()}}),r)})))()}}}),o=a,c=r(1001),l=(0,c.Z)(o,s,n,!1,null,"0b54471d",null),d=l.exports},40561:function(e,t,r){var s=r(82109),n=r(17854),i=r(51400),a=r(19303),o=r(26244),c=r(47908),l=r(65417),d=r(86135),u=r(81194),f=u("splice"),A=n.TypeError,v=Math.max,h=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,s,n,u,f,m,C=c(this),x=o(C),y=i(e,x),R=arguments.length;if(0===R?r=s=0:1===R?(r=0,s=x-y):(r=R-2,s=h(v(a(t),0),x-y)),x+r-s>p)throw A(g);for(n=l(C,s),u=0;u<s;u++)f=y+u,f in C&&d(n,u,C[f]);if(n.length=s,r<s){for(u=y;u<x-s;u++)f=u+s,m=u+r,f in C?C[m]=C[f]:delete C[m];for(u=x;u>x-s+r;u--)delete C[u-1]}else if(r>s)for(u=x-s;u>y;u--)f=u+s-1,m=u+r-1,f in C?C[m]=C[f]:delete C[m];for(u=0;u<r;u++)C[u+y]=arguments[u+2];return C.length=x-s+r,n}})},62735:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA9ZJREFUWEfNl01oXFUUx3/nTRZFg19NwYJInPEjggsXddFFaQLuTJdSC4IFW6mumrxXbVGwgmKKbyZd2Uor1JUJLht3SiMVFcwiC8WiecOghQaaSgi1ZjHvHrl33hveTCbzphMxvt3jnnPP//7Pt9Djt+sNHbzvXl5QGBVlj8IjAg9bdYVlgesqLAjMr/3Flzc/ltu9XC15QqUJfRyPtxBeBnbkybtzxRqfwXAmmpalbjqbAhg+rDu8nbwrQgAM9GR4o1BdldDc4r3aJVnvdEdHAPbVWuALgWfblNZV+QrhawxLxnMvxTMMCoyosF+E59uZUliUmBc7sbEBwLCvI55wJfVvAmBFDR8Yw6XaWVntxsbwcX3A8zgsHm8DQ6msjROjjNXKci2r3wIgefnVFuPKbBxzLM9wOygLpFDgPMLBLAiJ2ZdlognA+XyI71toN5yIKhL26X+nVprUAI+PMiAWzQp705hoAij6+qEIJ5vGcoyXAn0G+MTmoBheW5qWnzcDugGEMlUtyykr7wC4VCvwSzPaldmoLC91e3kp0B+BPYnMQhTKc13lfZ3JuKNOzNPWFQ0Avl5AOJIGXFzniTyfFwNdFbg/KUSr1VAezAvOwgC/NQNTuRiV5ai4CncPN9PUUcNEtSJn8/xeCnQF2JmCjkLZladTnNTj4jGdFqu1v9ktpUAt1Z8nyutxnd15r3es9QHAZcYANzJ14pCUTug5lGOOSmWuWpYDeS/pF4DVK/p6WYRxZ0M4bxloBpPCRDXMp38rANoyYkGKgd5odjXDgWpF5lIGXKopFzTpem3MPCqClwRhjPJHO3MCywhHo1B+Ss+KkzouHpeT/+uWAU0PYxirhTKfAXAFGO3kEqslSRWxF3Rpq/NRKGPpHcOBjhbA3tvwwrYD+JdcYFB+79cF/20Q+uojNPqL8sP/Ig23txBteyl21SnQiwKvpnW9l2Z0t6X4SV+HYnEd101JCp9WQznSuR3DTBTKoW4luRTod8DeRObbKJR9OfK236QtvrUdOxYmdUrs+J1+OQPJY2/qUxI3o9mvVuTXzQBsGEgMZ6oVccNP95FMCaKylLu9LO+slE27BvWdRzLXYBqT0VVaa/9MXOf1Xlp0FkzSes9laLfHy2w2lDZrta8jBXG12q1daWCq8r6J+SwPiBvLC7wiwjvZsdwaj/PG8tRa3mJi9z8VrhlJFhNlUJQRtzdudTFpMmHH9Ic4LR7+llYzQ9n8yem7Ws2yvkzYOCnKQYTBvKBLavxtFWYlZqrv5bTdUFIxxxH202k9V2p4LKJ8s3aHuV7X838A6a0eZO1XBbwAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=4094-legacy.29ae46b1.js.map