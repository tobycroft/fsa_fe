"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[4921],{94921:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lecturer-management-container"},[n("header",[n("van-search",{attrs:{background:"#fff",placeholder:"请输入主讲人名字"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),n("main",[n("p",{staticClass:"main-talker-box-label"},[e._v(" 全部主讲人("+e._s(e.mainTalkerList.length)+") ")]),n("ul",{staticClass:"main-talker-list"},e._l(e.mainTalkerList,(function(t,a){return n("li",{key:a,staticClass:"main-talker-item"},[n("MainTalker",{attrs:{avatarUrl:e.handleStrEmpty(t.img),userName:e.handleStrEmpty(t.name),patrolDistricts:t.area_count,activitySession:t.lecture_count,participation:t.sum_visitor,showMore:!0},on:{update:function(n){return e.onUpdateMainTalker(t)},delete:function(n){return e.onDeleteMainTalker(t.id)}}})],1)})),0)])])},i=[],r={components:{MainTalker:()=>n.e(1297).then(n.bind(n,21297))},data(){return{keyword:"",currentTradeUnionID:null,mainTalkerList:[],iid:null,aid:null}},async created(){await this.reqMemberMeAPI(),await this.getsIDTheUnionAPI(),this.mentorListAPI(this.currentTradeUnionID)},methods:{async reqMemberMeAPI(){const e=await this.$request("association.reqMemberMe");console.log("我的信息API_res :>> ",e),this.aid=e.aid},onUpdateMainTalker(e){console.log("MainTalker修改:>>",e),this.$router.push({path:"/speakerInformationChanges",query:{id:e.id}})},onDeleteMainTalker(e){console.log("MainTalker删除:>>"),this.$dialog.confirm({title:"删除操作",message:"您将删除该主讲人信息，是否继续？"}).then((()=>{console.log("确认删除 :>>"),this.instructorAssociationDelAPI(e,this.aid)})).catch((()=>{console.log("取消删除 :>>")}))},handleStrEmpty(e){return e||""},async getsIDTheUnionAPI(){const e=await this.$request("association.getsIDTheUnion");console.log("获取当前工会的ID_API_res :>> ",e),this.currentTradeUnionID=e},async mentorListAPI(e){const t={aid:e},n=await this.$request("instructor.mentorList",t);console.log("导师列表API_res :>> ",n),this.mainTalkerList=n},async instructorAssociationDelAPI(e,t){const n={iid:e,aid:t},a=await this.$request("instructor.instructorAssociationDel",n);console.log("工会-讲师-删除API_res :>> ",a),this.mentorListAPI(this.currentTradeUnionID)}}},s=r,o=n(1001),l=(0,o.Z)(s,a,i,!1,null,"35c65f16",null),c=l.exports}}]);
//# sourceMappingURL=4921.413ee06f.js.map