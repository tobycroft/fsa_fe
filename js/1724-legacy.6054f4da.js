"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[1724],{11724:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"active-dynamic-container"},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),a("van-tabs",{attrs:{animated:""},on:{change:e.changeTabs},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("van-tab",{attrs:{title:"全部"}},[a("ul",{staticClass:"list-style"},e._l(e.activeDynamicList,(function(t){return a("li",{key:t.id,on:{click:function(a){return e.goToDetail(t)}}},[a("ActiveRow",{staticClass:"active-row-style",attrs:{data:t}})],1)})),0)]),a("van-tab",{attrs:{title:"已备案"}},[a("ul",{staticClass:"list-style"},e._l(e.listBeforeCertainTime,(function(t){return a("li",{key:t.id,on:{click:function(a){return e.goToDetail(t)}}},[a("ActiveRow",{staticClass:"active-row-style",attrs:{data:t}})],1)})),0),a("div",{staticClass:"list-style"})]),a("van-tab",{attrs:{title:"已提交"}},[a("ul",{staticClass:"list-style"},e._l(e.listAfterCertainPeriodTime,(function(t){return a("li",{key:t.id,on:{click:function(a){return e.goToDetail(t)}}},[a("ActiveRow",{staticClass:"active-row-style",attrs:{data:t}})],1)})),0)])],1)],1)},r=[],n=a(16198),s=(a(35666),a(41539),a(78783),a(33948),{components:{ActiveRow:function(){return a.e(416).then(a.bind(a,70416))}},data:function(){return{searchKeyword:"",activeTab:null,page:{limit:10,pageNo:1},aid:null,activeDynamicList:[],listBeforeCertainTime:[],listAfterCertainPeriodTime:[]}},created:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getsIDTheUnionAPI();case 2:e.listLectureAPI(e.aid,e.page.pageNo,e.page.limit),e.listBeforeCertainTimeAPI(e.aid,e.page.pageNo,e.page.limit,e.$dateFormat(new Date,"yyyy-mm-dd")),e.listAfterCertainPeriodTimeAPI(e.aid,e.page.pageNo,e.page.limit,e.$dateFormat(new Date,"yyyy-mm-dd"));case 5:case"end":return t.stop()}}),t)})))()},methods:{changeTabs:function(e){switch(console.log("params :>> ",e),e){case 0:this.listLectureAPI(this.aid,this.page.pageNo,this.page.limit);break;case 1:this.listBeforeCertainTimeAPI(this.aid,this.page.pageNo,this.page.limit,this.$dateFormat(new Date,"yyyy-mm-dd"));break;case 2:this.listAfterCertainPeriodTimeAPI(this.aid,this.page.pageNo,this.page.limit,this.$dateFormat(new Date,"yyyy-mm-dd"));break;default:console.log("Error :>> ","changeTabs参数异常");break}},getsIDTheUnionAPI:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$request("association.getsIDTheUnion");case 2:a=t.sent,console.log("获取当前工会的ID_API_res :>> ",a),e.aid=a;case 5:case"end":return t.stop()}}),t)})))()},listLectureAPI:function(e,t,a,i){var r=this;return(0,n.Z)(regeneratorRuntime.mark((function n(){var s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={aid:e,page:t,limit:a,start_date:i},n.next=3,r.$request("lecture.listLecture",s);case 3:c=n.sent,console.log("讲座模块-获取列表(活动列表)API_res :>> ",c),r.activeDynamicList=c;case 6:case"end":return n.stop()}}),n)})))()},listBeforeCertainTimeAPI:function(e,t,a,i){var r=this;return(0,n.Z)(regeneratorRuntime.mark((function n(){var s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={aid:e,page:t,limit:a,start_date:i},n.next=3,r.$request("lecture.listBeforeCertainTime",s);case 3:c=n.sent,console.log("讲座模块-某个时间段前的列表(活动列表)API_res :>> ",c),r.listBeforeCertainTime=c;case 6:case"end":return n.stop()}}),n)})))()},listAfterCertainPeriodTimeAPI:function(e,t,a,i){var r=this;return(0,n.Z)(regeneratorRuntime.mark((function n(){var s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={aid:e,page:t,limit:a,start_date:i},n.next=3,r.$request("lecture.listAfterCertainPeriodTime",s);case 3:c=n.sent,console.log("讲座模块-某个时间段后的列表(活动列表)API_res :>> ",c),r.listAfterCertainPeriodTime=c;case 6:case"end":return n.stop()}}),n)})))()},goToDetail:function(e){console.log("param :>> ",e),this.$router.push({path:"/activeDynamicDetails",query:{id:e.id}})}}}),c=s,o=a(1001),l=(0,o.Z)(c,i,r,!1,null,"4d8e36e1",null),u=l.exports}}]);
//# sourceMappingURL=1724-legacy.6054f4da.js.map