{"version":3,"file":"js/4921.32c0e9ae.js","mappings":"8KAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,SAAS,CAACA,EAAG,aAAa,CAACG,MAAM,CAAC,WAAa,OAAO,YAAc,YAAYC,MAAM,CAACC,MAAOT,EAAW,QAAEU,SAAS,SAAUC,GAAMX,EAAIY,QAAQD,GAAKE,WAAW,cAAc,GAAGT,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,YAAY,yBAAyB,CAACN,EAAIc,GAAG,UAAUd,EAAIe,GAAGf,EAAIgB,eAAeC,QAAQ,QAAQb,EAAG,KAAK,CAACE,YAAY,oBAAoBN,EAAIkB,GAAIlB,EAAkB,gBAAE,SAASmB,EAAKC,GAAO,OAAOhB,EAAG,KAAK,CAACiB,IAAID,EAAMd,YAAY,oBAAoB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,UAAYP,EAAIsB,eAAeH,EAAKI,KAAK,SAAWvB,EAAIsB,eAAeH,EAAKK,MAAM,gBAAkBL,EAAKM,WAAW,gBAAkBN,EAAKO,cAAc,cAAgBP,EAAKQ,YAAY,UAAW,GAAMC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAO7B,EAAI8B,mBAAmBX,IAAO,OAAS,SAASU,GAAQ,OAAO7B,EAAI+B,mBAAmBZ,EAAKa,SAAS,MAAK,QACl8BC,EAAkB,GCqCtB,GACEC,WAAY,CACVC,WAAY,IAChB,iCAEEC,OACE,MAAO,CAELxB,QAAS,GAETyB,oBAAqB,KAErBrB,eAAgB,GAEhBsB,IAAK,KAELC,IAAK,OAGTC,sBACQvC,KAAKwC,uBACLxC,KAAKyC,oBACXzC,KAAK0C,cAAc1C,KAAKoC,sBAE1BO,QAAS,CAIPJ,uBACE,MAAMK,QAAY5C,KAAK6C,SAAS,2BAChCC,QAAQC,IAAI,mBAAoBH,GAChC5C,KAAKsC,IAAMM,EAAIN,KAKjBT,mBAAmBmB,GACjBF,QAAQC,IAAI,kBAAmBC,GAC/BhD,KAAKiD,QAAQC,KAAK,CAChBC,KAAM,6BACNC,MAAO,CACLrB,GAAIiB,EAASjB,OAOnBD,mBAAmBO,GACjBS,QAAQC,IAAI,mBACZ/C,KAAKqD,QACXC,QAAA,CACQ,MAARC,OACQ,QAARC,qBAEAC,MAAA,KAEQ,QAARX,IAAAA,YACQ,KAAR,2CAEAY,OAAA,KAEQ,QAARZ,IAAAA,gBAMIzB,eAAesC,GACb,OAAOA,GAAgB,IAKzBpB,0BACE,MAAMK,QAAY5C,KAAK6C,SAAS,8BAChCC,QAAQC,IAAI,yBAA0BH,GACtC5C,KAAKoC,oBAAsBQ,GAK7BL,oBAAoBD,GAClB,MAAMH,EAAO,CACXG,IAAAA,GAEIM,QAAY5C,KAAK6C,SAAS,wBAAyBV,GACzDW,QAAQC,IAAI,mBAAoBH,GAChC5C,KAAKe,eAAiB6B,GAMxBL,kCAAkCF,EAAKC,GACrC,MAAMH,EAAO,CACXE,IAAAA,EACAC,IAAAA,GAEIM,QAAY5C,KAAK6C,SAC7B,sCACAV,GAEMW,QAAQC,IAAI,uBAAwBH,GACpC5C,KAAK0C,cAAc1C,KAAKoC,wBC9I4O,I,UCQtQwB,GAAY,OACd,EACA9D,EACAkC,GACA,EACA,KACA,WACA,MAIF,EAAe4B,EAAiB","sources":["webpack://home_research_h5/./src/views/lecturerManagement/index.vue?7f6b","webpack://home_research_h5/src/views/lecturerManagement/index.vue","webpack://home_research_h5/./src/views/lecturerManagement/index.vue?fcc4","webpack://home_research_h5/./src/views/lecturerManagement/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lecturer-management-container\"},[_c('header',[_c('van-search',{attrs:{\"background\":\"#fff\",\"placeholder\":\"请输入主讲人名字\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_c('main',[_c('p',{staticClass:\"main-talker-box-label\"},[_vm._v(\" 全部主讲人(\"+_vm._s(_vm.mainTalkerList.length)+\") \")]),_c('ul',{staticClass:\"main-talker-list\"},_vm._l((_vm.mainTalkerList),function(item,index){return _c('li',{key:index,staticClass:\"main-talker-item\"},[_c('MainTalker',{attrs:{\"avatarUrl\":_vm.handleStrEmpty(item.img),\"userName\":_vm.handleStrEmpty(item.name),\"patrolDistricts\":item.area_count,\"activitySession\":item.lecture_count,\"participation\":item.sum_visitor,\"showMore\":true},on:{\"update\":function($event){return _vm.onUpdateMainTalker(item)},\"delete\":function($event){return _vm.onDeleteMainTalker(item.id)}}})],1)}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"lecturer-management-container\">\r\n    <header>\r\n      <van-search\r\n        v-model=\"keyword\"\r\n        background=\"#fff\"\r\n        placeholder=\"请输入主讲人名字\"\r\n      />\r\n    </header>\r\n\r\n    <main>\r\n      <p class=\"main-talker-box-label\">\r\n        全部主讲人({{ mainTalkerList.length }})\r\n      </p>\r\n\r\n      <ul class=\"main-talker-list\">\r\n        <li\r\n          v-for=\"(item, index) in mainTalkerList\"\r\n          :key=\"index\"\r\n          class=\"main-talker-item\"\r\n        >\r\n          <MainTalker\r\n            :avatarUrl=\"handleStrEmpty(item.img)\"\r\n            :userName=\"handleStrEmpty(item.name)\"\r\n            :patrolDistricts=\"item.area_count\"\r\n            :activitySession=\"item.lecture_count\"\r\n            :participation=\"item.sum_visitor\"\r\n            :showMore=\"true\"\r\n            @update=\"onUpdateMainTalker(item)\"\r\n            @delete=\"onDeleteMainTalker(item.id)\"\r\n          />\r\n        </li>\r\n      </ul>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  components: {\r\n    MainTalker: () =>\r\n      import(\"@/views/introductionPlatform/components/MainTalker.vue\"),\r\n  },\r\n  data() {\r\n    return {\r\n      // 搜索关键字\r\n      keyword: \"\",\r\n      // 当前工会ID\r\n      currentTradeUnionID: null,\r\n      // 主讲人列表\r\n      mainTalkerList: [],\r\n      // 讲师id\r\n      iid: null,\r\n      // 工会id\r\n      aid: null,\r\n    };\r\n  },\r\n  async created() {\r\n    await this.reqMemberMeAPI();\r\n    await this.getsIDTheUnionAPI();\r\n    this.mentorListAPI(this.currentTradeUnionID);\r\n  },\r\n  methods: {\r\n    /**\r\n     * 我的信息API\r\n     */\r\n    async reqMemberMeAPI() {\r\n      const res = await this.$request(\"association.reqMemberMe\");\r\n      console.log(\"我的信息API_res :>> \", res);\r\n      this.aid = res.aid;\r\n    },\r\n    /**\r\n     * MainTalker-修改按钮事件\r\n     */\r\n    onUpdateMainTalker(lecturer) {\r\n      console.log(\"MainTalker修改:>>\", lecturer);\r\n      this.$router.push({\r\n        path: `/speakerInformationChanges`,\r\n        query: {\r\n          id: lecturer.id,\r\n        },\r\n      });\r\n    },\r\n    /**\r\n     * MainTalker-删除按钮事件\r\n     */\r\n    onDeleteMainTalker(iid) {\r\n      console.log(\"MainTalker删除:>>\");\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"删除操作\",\r\n          message: \"您将删除该主讲人信息，是否继续？\",\r\n        })\r\n        .then(() => {\r\n          // on confirm\r\n          console.log(\"确认删除 :>>\");\r\n          this.instructorAssociationDelAPI(iid, this.aid);\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n          console.log(\"取消删除 :>>\");\r\n        });\r\n    },\r\n    /**\r\n     * 判断字符串是否存在\r\n     */\r\n    handleStrEmpty(param) {\r\n      return param ? param : \"\";\r\n    },\r\n    /**\r\n     * 获取当前工会的ID API\r\n     */\r\n    async getsIDTheUnionAPI() {\r\n      const res = await this.$request(\"association.getsIDTheUnion\");\r\n      console.log(\"获取当前工会的ID_API_res :>> \", res);\r\n      this.currentTradeUnionID = res;\r\n    },\r\n    /**\r\n     * 导师列表API\r\n     */\r\n    async mentorListAPI(aid) {\r\n      const data = {\r\n        aid,\r\n      };\r\n      const res = await this.$request(\"instructor.mentorList\", data);\r\n      console.log(\"导师列表API_res :>> \", res);\r\n      this.mainTalkerList = res;\r\n    },\r\n\r\n    /**\r\n     * 工会-讲师-删除API\r\n     */\r\n    async instructorAssociationDelAPI(iid, aid) {\r\n      const data = {\r\n        iid,\r\n        aid,\r\n      };\r\n      const res = await this.$request(\r\n        \"instructor.instructorAssociationDel\",\r\n        data\r\n      );\r\n      console.log(\"工会-讲师-删除API_res :>> \", res);\r\n      this.mentorListAPI(this.currentTradeUnionID);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.lecturer-management-container {\r\n  main {\r\n    padding: 0 px(24);\r\n    .main-talker-box-label {\r\n      margin: px(48) 0 0;\r\n      text-align: left;\r\n      font-size: px(40);\r\n      font-weight: bold;\r\n      color: #333333;\r\n    }\r\n    .main-talker-list {\r\n      .main-talker-item {\r\n        margin: px(24) 0 0 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=35c65f16&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=35c65f16&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35c65f16\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","keyword","expression","_v","_s","mainTalkerList","length","_l","item","index","key","handleStrEmpty","img","name","area_count","lecture_count","sum_visitor","on","$event","onUpdateMainTalker","onDeleteMainTalker","id","staticRenderFns","components","MainTalker","data","currentTradeUnionID","iid","aid","async","reqMemberMeAPI","getsIDTheUnionAPI","mentorListAPI","methods","res","$request","console","log","lecturer","$router","push","path","query","$dialog","confirm","title","message","then","catch","param","component"],"sourceRoot":""}