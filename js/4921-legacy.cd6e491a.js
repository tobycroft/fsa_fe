"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[4921],{94921:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"lecturer-management-container"},[t("header",[t("van-search",{attrs:{background:"#fff",placeholder:"请输入主讲人名字"},model:{value:e.keyword,callback:function(n){e.keyword=n},expression:"keyword"}})],1),t("main",[t("p",{staticClass:"main-talker-box-label"},[e._v(" 全部主讲人("+e._s(e.mainTalkerList.length)+") ")]),t("ul",{staticClass:"main-talker-list"},e._l(e.mainTalkerList,(function(n,r){return t("li",{key:r,staticClass:"main-talker-item"},[t("MainTalker",{attrs:{avatarUrl:e.handleStrEmpty(n.img),userName:e.handleStrEmpty(n.name),patrolDistricts:n.area_count,activitySession:n.lecture_count,participation:n.sum_visitor,showMore:!0},on:{update:function(t){return e.onUpdateMainTalker(n)},delete:function(t){return e.onDeleteMainTalker(n.id)}}})],1)})),0)])])},a=[],i=t(16198),s=(t(35666),t(41539),t(78783),t(33948),{components:{MainTalker:function(){return t.e(1297).then(t.bind(t,21297))}},data:function(){return{keyword:"",currentTradeUnionID:null,mainTalkerList:[],iid:null,aid:null}},created:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.reqMemberMeAPI();case 2:return n.next=4,e.getsIDTheUnionAPI();case 4:e.mentorListAPI(e.currentTradeUnionID);case 5:case"end":return n.stop()}}),n)})))()},methods:{reqMemberMeAPI:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("association.reqMemberMe");case 2:t=n.sent,console.log("我的信息API_res :>> ",t),e.aid=t.aid;case 5:case"end":return n.stop()}}),n)})))()},onUpdateMainTalker:function(e){console.log("MainTalker修改:>>",e),this.$router.push({path:"/speakerInformationChanges",query:{id:e.id}})},onDeleteMainTalker:function(e){var n=this;console.log("MainTalker删除:>>"),this.$dialog.confirm({title:"删除操作",message:"您将删除该主讲人信息，是否继续？"}).then((function(){console.log("确认删除 :>>"),n.instructorAssociationDelAPI(e,n.aid)})).catch((function(){console.log("取消删除 :>>")}))},handleStrEmpty:function(e){return e||""},getsIDTheUnionAPI:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("association.getsIDTheUnion");case 2:t=n.sent,console.log("获取当前工会的ID_API_res :>> ",t),e.currentTradeUnionID=t;case 5:case"end":return n.stop()}}),n)})))()},mentorListAPI:function(e){var n=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={aid:e},t.next=3,n.$request("instructor.mentorList",r);case 3:a=t.sent,console.log("导师列表API_res :>> ",a),n.mainTalkerList=a;case 6:case"end":return t.stop()}}),t)})))()},instructorAssociationDelAPI:function(e,n){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function r(){var a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={iid:e,aid:n},r.next=3,t.$request("instructor.instructorAssociationDel",a);case 3:i=r.sent,console.log("工会-讲师-删除API_res :>> ",i),t.mentorListAPI(t.currentTradeUnionID);case 6:case"end":return r.stop()}}),r)})))()}}}),o=s,c=t(1001),u=(0,c.Z)(o,r,a,!1,null,"35c65f16",null),l=u.exports}}]);
//# sourceMappingURL=4921-legacy.cd6e491a.js.map