"use strict";(self["webpackChunkhome_research_h5"]=self["webpackChunkhome_research_h5"]||[]).push([[3812],{13812:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var t=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"lecturer-management-container"},[r("header",[r("van-search",{attrs:{background:"#fff",placeholder:"请输入主讲人名字"},on:{search:e.onSearch,clear:e.onClear},model:{value:e.keyword,callback:function(n){e.keyword=n},expression:"keyword"}})],1),r("main",[r("p",{staticClass:"main-talker-box-label"},[e._v(" 全部主讲人("+e._s(e.mainTalkerList.length)+") ")]),r("ul",{staticClass:"main-talker-list"},e._l(e.mainTalkerList,(function(n,t){return r("li",{key:t,staticClass:"main-talker-item"},[r("MainTalker",{attrs:{avatarUrl:e.handleStrEmpty(n.img),userName:e.handleStrEmpty(n.name),patrolDistricts:n.area_count,activitySession:n.lecture_count,participation:n.sum_visitor,showMore:!0},on:{update:function(r){return e.onUpdateMainTalker(n)},delete:function(r){return e.onDeleteMainTalker(n.id)}}})],1)})),0)])])},i=[],a=r(16198),o=(r(35666),r(41539),r(78783),r(33948),r(76711)),s={components:{MainTalker:function(){return r.e(1297).then(r.bind(r,21297))}},data:function(){return{keyword:"",currentTradeUnionID:null,mainTalkerList:[],iid:null,aid:null}},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.getMemberMe();case 2:return n.next=4,e.getsIDTheUnionAPI();case 4:e.mentorListAPI(e.currentTradeUnionID);case 5:case"end":return n.stop()}}),n)})))()},methods:{getMemberMe:function(){this.aid=this.$store.getters.associationInfoCurrent.id},onUpdateMainTalker:function(e){console.log("MainTalker修改:>>",e),this.$router.push({path:"/speakerInformationChanges",query:{iid:e.id,aid:this.aid}})},onDeleteMainTalker:function(e){var n=this;console.log("MainTalker删除:>>"),this.$dialog.confirm({title:"删除操作",message:"您将删除该主讲人信息，是否继续？"}).then((function(){console.log("确认删除 :>>"),n.instructorAssociationDelAPI(e,n.aid)})).catch((function(){console.log("取消删除 :>>")}))},handleStrEmpty:function(e){return e||""},getsIDTheUnionAPI:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("association.getsIDTheUnion");case 2:r=n.sent,console.log("获取当前工会的ID_API_res :>> ",r),e.currentTradeUnionID=r;case 5:case"end":return n.stop()}}),n)})))()},mentorListAPI:function(e){var n=this;return(0,a.Z)(regeneratorRuntime.mark((function r(){var t,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t={aid:e},r.next=3,n.$request("instructor.mentorList",t);case 3:i=r.sent,console.log("导师列表API_res :>> ",i),n.mainTalkerList=(0,o.Ef)(i);case 6:case"end":return r.stop()}}),r)})))()},instructorAssociationDelAPI:function(e,n){var r=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={iid:e,aid:n},t.next=3,r.$request("instructor.instructorAssociationDel",i);case 3:a=t.sent,console.log("工会-讲师-删除API_res :>> ",a),r.mentorListAPI(r.currentTradeUnionID);case 6:case"end":return t.stop()}}),t)})))()},onSearch:function(){this.mainTalkerList=(0,o.o1)(this.mainTalkerList,this.keyword)},onClear:function(){console.log("onClear :>> "),this.mentorListAPI(this.currentTradeUnionID)}}},u=s,c=r(1001),l=(0,c.Z)(u,t,i,!1,null,"239488d6",null),f=l.exports},76711:function(e,n,r){r.d(n,{Ef:function(){return u},e9:function(){return t},fS:function(){return s},i_:function(){return a},o1:function(){return o},rm:function(){return i}});r(41539),r(54747),r(74916),r(15306);function t(e,n){return e&&n?e/n*100:(console.log("percentage函数参数异常: :>> ",e,n),0)}var i=function(e,n){var r=new Date(Date.parse(e)),t=new Date(Date.parse(n));return r>t},a=function(e,n,r){switch(n){case"H":case"h":if("H"===r||"h"===r)return e;if("M"===r||"m"===r)return 60*e;if("S"===r||"s"===r)return 60*e*60;console.log("日期转换函数resultUnit参数不合法 :>> ");break;case"M":case"m":if("H"===r||"h"===r)return e/60;if("M"===r||"m"===r)return e;if("S"===r||"s"===r)return 60*e;console.log("日期转换函数resultUnit参数不合法 :>> ");break;case"S":case"s":if("H"===r||"h"===r)return e/60/60;if("M"===r||"m"===r)return e/60;if("S"===r||"s"===r)return e;console.log("日期转换函数resultUnit参数不合法 :>> ");break;default:console.log("日期转换函数targetUnit参数不合法 :>>");break}},o=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",t=[];return e.forEach((function(e){var i=e[r].indexOf(n);i>-1&&t.push(e)})),t},s=function(e){return e.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")},u=function(e){var n=[];for(var r in e)n.push(e[r]);return n.reverse()}}}]);
//# sourceMappingURL=3812-legacy.e48b17f2.js.map