"use strict";(self["webpackChunkhome_research_screen"]=self["webpackChunkhome_research_screen"]||[]).push([[476],{4476:function(t,a,e){e.r(a),e.d(a,{default:function(){return h}});var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"map-projection-container"},[e("v-chart",{staticClass:"chart",attrs:{"init-options":t.initEcharts,option:t.option,"update-options":t.setOptions()}})],1)},i=[],s={props:{dataSource:{type:[Array,Object],default:()=>[]}},watch:{dataSource(){console.log("this.dataSource :>> ",this.dataSource),this.getMaxData(this.dataSource),this.dataSource.length>0&&setTimeout((()=>{this.option=this.setOptions()}),500)},"$store.getters.associationInfo":function(t){t.geo_url&&this.getMapGEO(t.geo_url)}},data(){return{FuJianJson:{},initEcharts:{renderer:"canvas",useDirtyRect:!0,ssr:!1,width:"auto",height:"auto",locale:"ZH"},option:{},maxData:1e3,associationInfo:{geo_url:void 0}}},async created(){this.associationInfo=this.$store.getters.associationInfo,this.associationInfo&&this.associationInfo.geo_url&&await this.getMapGEO(this.associationInfo.geo_url),this.dataSource.length>0&&this.optionInit()},methods:{async getMapGEO(t){const a=await this.$axios.get(`${t}`);console.log("res :>> ",a),this.FuJianJson=a.data,console.log("this.FuJianJson :>> ",this.FuJianJson),this.$echarts.registerMap("FuJian",this.FuJianJson),this.dataSource.length>0&&setTimeout((()=>{this.option=this.setOptions()}),500)},optionInit(){setTimeout((()=>{this.option={tooltip:{trigger:"item",showDelay:0,transitionDuration:.2},visualMap:{left:"right",min:0,max:this.maxData,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},text:["High","Low"],textStyle:{color:"#D6F7FE"},calculable:!0},series:[{name:"覆盖人次",type:"map",map:"FuJian",ego:{project:function(t){return projection(t)},unproject:function(t){return projection.invert(t)}},emphasis:{label:{show:!0}},data:this.dataSource}]}}),500)},setOptions(){const t={tooltip:{trigger:"item",showDelay:0,transitionDuration:.2},visualMap:{left:"right",min:0,max:this.maxData,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},text:["High","Low"],textStyle:{color:"#D6F7FE"},calculable:!0},series:[{name:"覆盖人次",type:"map",map:"FuJian",ego:{project:function(t){return projection(t)},unproject:function(t){return projection.invert(t)}},emphasis:{label:{show:!0}},data:this.dataSource}]};return t},getMaxData(t){const a=[];for(const e of t)a.push(e.value);this.maxData=Math.max(...a)}}},n=s,r=e(1001),c=(0,r.Z)(n,o,i,!1,null,"2062680b",null),h=c.exports}}]);
//# sourceMappingURL=476.416923f7.js.map