"use strict";(self["webpackChunkhome_research_screen"]=self["webpackChunkhome_research_screen"]||[]).push([[476],{4476:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-projection-container"},[a("v-chart",{staticClass:"chart",attrs:{"init-options":t.initEcharts,option:t.option,"update-options":t.setOptions()}})],1)},o=[],r=a(2032),i=a(6198),s=(a(5666),{props:{dataSource:{type:[Array,Object],default:function(){return[]}}},watch:{dataSource:function(){var t=this;console.log("this.dataSource :>> ",this.dataSource),this.getMaxData(this.dataSource),this.dataSource.length>0&&setTimeout((function(){t.option=t.setOptions()}),500)},"$store.getters.associationInfo":function(t){t.geo_url&&this.getMapGEO(t.geo_url)}},data:function(){return{FuJianJson:{},initEcharts:{renderer:"canvas",useDirtyRect:!0,ssr:!1,width:"auto",height:"auto",locale:"ZH"},option:{},maxData:1e3,associationInfo:{geo_url:void 0}}},created:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.associationInfo=t.$store.getters.associationInfo,!t.associationInfo||!t.associationInfo.geo_url){e.next=4;break}return e.next=4,t.getMapGEO(t.associationInfo.geo_url);case 4:t.dataSource.length>0&&t.optionInit();case 5:case"end":return e.stop()}}),e)})))()},methods:{getMapGEO:function(t){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$axios.get("".concat(t));case 2:n=a.sent,console.log("res :>> ",n),e.FuJianJson=n.data,console.log("this.FuJianJson :>> ",e.FuJianJson),e.$echarts.registerMap("FuJian",e.FuJianJson),e.dataSource.length>0&&setTimeout((function(){e.option=e.setOptions()}),500);case 8:case"end":return a.stop()}}),a)})))()},optionInit:function(){var t=this;setTimeout((function(){t.option={tooltip:{trigger:"item",showDelay:0,transitionDuration:.2},visualMap:{left:"right",min:0,max:t.maxData,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},text:["High","Low"],textStyle:{color:"#D6F7FE"},calculable:!0},series:[{name:"覆盖人次",type:"map",map:"FuJian",ego:{project:function(t){return projection(t)},unproject:function(t){return projection.invert(t)}},emphasis:{label:{show:!0}},data:t.dataSource}]}}),500)},setOptions:function(){var t={tooltip:{trigger:"item",showDelay:0,transitionDuration:.2},visualMap:{left:"right",min:0,max:this.maxData,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},text:["High","Low"],textStyle:{color:"#D6F7FE"},calculable:!0},series:[{name:"覆盖人次",type:"map",map:"FuJian",ego:{project:function(t){return projection(t)},unproject:function(t){return projection.invert(t)}},emphasis:{label:{show:!0}},data:this.dataSource}]};return t},getMaxData:function(t){var e,a=[],n=(0,r.Z)(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;a.push(o.value)}}catch(i){n.e(i)}finally{n.f()}this.maxData=Math.max.apply(Math,a)}}}),c=s,u=a(1001),f=(0,u.Z)(c,n,o,!1,null,"2062680b",null),l=f.exports}}]);
//# sourceMappingURL=476-legacy.af4241f6.js.map