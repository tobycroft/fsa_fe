"use strict";(self["webpackChunkhome_research_screen"]=self["webpackChunkhome_research_screen"]||[]).push([[593],{3593:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-container"},[s("el-scrollbar",{staticClass:"scrollbar-style",style:{height:"100vh"}},[s("div",{staticClass:"scrollbar-content-style"},[s("header",[s("div",{staticClass:"title-content-box"},[s("p",{staticClass:"title-level-one"},[t._v("福建省家庭教育")]),s("p",{staticClass:"title-level-two"},[t._v("数智化管理平台")])])]),s("main",{staticClass:"flex align-start"},[s("div",[s("ul",{staticClass:"list-style"},[s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"近期宣讲区域列表",listData:t.recentPreachAreaListCmp}},[s("TableList",{attrs:{columnsList:t.recentPreachAreaListColumns,listData:t.recentPreachAreaListCmp,overflow:""}})],1)],1),s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"近期承办单位列表"}},[s("TableList",{attrs:{columnsList:t.recentUndertakingUnitListColumns,listData:t.recentUndertakingUnitListCmp,overflow:""}})],1)],1),s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"近期宣讲详情"}},[s("TableList",{attrs:{columnsList:t.recentAboutDetailsColumns,listData:t.recentAboutDetailsCmp,showHeader:"",overflow:""}})],1)],1)])]),s("div",{staticClass:"main-box"},[s("TitleCard",{staticClass:"title-card-style",attrs:{title:"宣讲覆盖人数："+t.coverTotalNumber+"人"}}),s("MapProjection",{attrs:{dataSource:t.mapProjection_DataSource}})],1),s("div",[s("ul",{staticClass:"list-style"},[s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"宣讲区域覆盖人数排名"}},[s("TableList",{attrs:{columnsList:t.coverListColumns,listData:t.coverList,showHeader:!1,overflow:""}})],1)],1),s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"授课老师宣讲数据排名"}},[s("TableList",{attrs:{columnsList:t.instructorColumns,listData:t.instructorList,overflow:""}})],1)],1),s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"新增宣讲覆盖人数"}},[s("CoverPeopleTotal",{attrs:{dataSource:t.coverPeopleTotal_DataSource,xAxisData:t.coverPeopleTotal_xAxisData}})],1)],1)])])])])])],1)},r=[],i={components:{ListCard:()=>s.e(898).then(s.bind(s,4898)),TableList:()=>s.e(809).then(s.bind(s,1809)),TitleCard:()=>s.e(196).then(s.bind(s,8196)),CoverPeopleTotal:()=>s.e(175).then(s.bind(s,7175)),MapProjection:()=>s.e(522).then(s.bind(s,8522))},computed:{recentPreachAreaListCmp(){const t=[];for(const e of this.recentList)console.log("区域 :>> ",`${e.province}${e.city}${e.district}${e.street}`),t.push({areaName:`${e.province}${e.city}${e.district}${e.street}`,date:e.date});return t},recentUndertakingUnitListCmp(){const t=[];return this.recentList.forEach((e=>{t.push({...e.host_info,date:e.date})})),console.log("近期承办单位列表arr :>> ",t),t},recentAboutDetailsCmp(){const t=[];return this.recentList.forEach((e=>{t.push({...e.instructor_info,title:e.title,visitor:e.visitor})})),console.log("近期宣讲详情arr :>> ",t),t},coverPeopleTotal_DataSource(){const t=[];return this.dateCoverList.forEach((e=>{t.push(e.visitor)})),console.log("新增宣讲覆盖人数-数据arr :>> ",t),t},coverPeopleTotal_xAxisData(){const t=[];return this.dateCoverList.forEach((e=>{t.push(this.$dateFormat(e.date,"m/dd"))})),console.log("新增宣讲覆盖人数-X轴标题arr :>> ",t),t},mapProjection_DataSource(){const t=[];return this.coverList.forEach((e=>{console.log("item :>> ",e);for(const s of t)if(s.name===e.city)return void(s.value+=e.visitor);t.push({name:e.city,value:e.visitor})})),console.log("地图-图表数据arr :>> ",t),t}},data(){return{recentPreachAreaListColumns:[{label:"区域名称",value:"areaName"},{label:"日期",value:"date"}],recentUndertakingUnitListColumns:[{label:"单位名称",value:"name"},{label:"日期",value:"date"}],recentAboutDetailsColumns:[{label:"宣讲主题",value:"title"},{label:"主讲人",value:"name"},{label:"听课人数",value:"visitor"}],coverListColumns:[{label:"名次",value:"rankingName"},{label:"覆盖区域名称",value:"areaName"},{label:"区域覆盖人数",value:"visitorStr"}],instructorColumns:[{label:"名次",value:"rankingName"},{label:"姓名",value:"name"},{label:"听课人数",value:"visitorStr"},{label:"场次",value:"roundStr"}],recentList:[],coverList:[],instructorList:[],dateCoverList:[],coverTotalNumber:0}},mounted(){this.recentListAPI(),this.coverListAPI(),this.instructorListAPI(),this.dateCoverListAPI(),this.coverTotalNumberAPI()},methods:{async recentListAPI(){const t=await this.$request("lecture.recentList");console.log("近期列表API_res :>> ",t),t.forEach((t=>{t.date=this.$dateFormat(t.date,"yyyy年mm月dd日")})),this.recentList=t},async coverListAPI(){const t=await this.$request("lecture.coverList");for(const e in t)t[e].areaName=`${t[e].province}${t[e].city}${t[e].district}${t[e].street}`,t[e].rankingName=`第${parseInt(e)+1}名`,t[e].visitorStr=`${t[e].visitor}人`;console.log("覆盖列表API_res :>> ",t),this.coverList=t},async instructorListAPI(){const t=await this.$request("lecture.instructorList");for(const e in t)t[e].rankingName=`第${parseInt(e)+1}名`,t[e].name=t[e].instructor_info.name,t[e].visitorStr=`${t[e].visitor}人`,t[e].roundStr=`${t[e].host_time}场`;console.log("授课老师排名列表API_res :>> ",t),this.instructorList=t},async dateCoverListAPI(){const t={type:"none"},e=await this.$request("lecture.dateCoverList",t);console.log("日期覆盖列表res :>> ",e),this.dateCoverList=e},async coverTotalNumberAPI(){const t=await this.$request("lecture.coverTotalNumber");console.log("覆盖总人数API_res :>> ",t),this.coverTotalNumber=t}}},o=i,l=s(1001),n=(0,l.Z)(o,a,r,!1,null,"65c1f470",null),c=n.exports}}]);
//# sourceMappingURL=593.f3c35782.js.map