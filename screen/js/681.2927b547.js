"use strict";(self["webpackChunkhome_research_screen"]=self["webpackChunkhome_research_screen"]||[]).push([[681],{681:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-container"},[s("el-scrollbar",{staticClass:"scrollbar-style",style:{height:"100vh"}},[s("div",{staticClass:"scrollbar-content-style"},[s("header",[s("div",{staticClass:"title-content-box"},[s("p",{staticClass:"title-level-one"},[t._v("福建省家庭教育研究会")]),s("p",{staticClass:"title-level-two"},[t._v("数智化管理平台")])])]),s("main",{staticClass:"flex align-start"},[s("div",[s("ul",{staticClass:"list-style"},[s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"近期宣讲区域列表",listData:t.recentPreachAreaListCmp}},[s("TableList",{attrs:{columnsList:t.recentPreachAreaListColumns,listData:t.recentPreachAreaListCmp,overflow:""}})],1)],1),s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"近期承办单位列表"}},[s("TableList",{attrs:{columnsList:t.recentUndertakingUnitListColumns,listData:t.recentUndertakingUnitListCmp,overflow:""}})],1)],1),s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"近期宣讲详情"}},[s("TableList",{attrs:{columnsList:t.recentAboutDetailsColumns,listData:t.recentAboutDetailsCmp,overflow:""}})],1)],1)])]),s("div",{staticClass:"main-box"},[s("TitleCard",{staticClass:"title-card-style",attrs:{title:"宣讲覆盖人数："+t.coverTotalNumber+"人"}}),s("MapProjection",{attrs:{dataSource:t.mapProjection_DataSource}})],1),s("div",[s("ul",{staticClass:"list-style"},[s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"宣讲区域覆盖人数排名"}},[s("TableList",{attrs:{columnsList:t.coverListColumns,listData:t.coverList,showHeader:!1,overflow:""}})],1)],1),s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"授课老师宣讲数据排名"}},[s("TableList",{attrs:{columnsList:t.instructorColumns,listData:t.instructorList,overflow:""}})],1)],1),s("li",{staticClass:"list-item"},[s("ListCard",{attrs:{title:"新增宣讲覆盖人数"}},[s("CoverPeopleTotal",{attrs:{dataSource:t.coverPeopleTotal_DataSource,xAxisData:t.coverPeopleTotal_xAxisData}})],1)],1)])])])])])],1)},a=[],r={components:{ListCard:()=>s.e(898).then(s.bind(s,4898)),TableList:()=>s.e(318).then(s.bind(s,9318)),TitleCard:()=>s.e(196).then(s.bind(s,8196)),CoverPeopleTotal:()=>s.e(973).then(s.bind(s,973)),MapProjection:()=>s.e(38).then(s.bind(s,7467))},computed:{recentPreachAreaListCmp(){const t=[];for(const e of this.recentList)console.log("区域 :>> ",`${e.province}${e.city}${e.district}${e.street}`),t.push({areaName:`${e.province}${e.city}${e.district}${e.street}`,date:this.$dateFormat(e.start_date,"yyyy-mm-dd")});return t},recentUndertakingUnitListCmp(){const t=[];return this.recentList.forEach((e=>{t.push({...e.host_info,date:this.$dateFormat(e.start_date,"UTC:yyyy-mm-dd")})})),console.log("近期承办单位列表arr :>> ",t),t},recentAboutDetailsCmp(){const t=[];return this.recentList.forEach((e=>{t.push({...e.instructor_info,title:e.title,visitor:`${e.visitor}人`})})),console.log("近期宣讲详情arr :>> ",t),t},coverPeopleTotal_DataSource(){const t=[];return this.dateCoverList.forEach((e=>{t.push(e.sum_visitor)})),console.log("新增宣讲覆盖人数-数据arr :>> ",t),t},coverPeopleTotal_xAxisData(){const t=[];return this.dateCoverList.forEach((e=>{t.push(this.$dateFormat(e.g_date,"m/dd"))})),console.log("新增宣讲覆盖人数-X轴标题arr :>> ",t),t},mapProjection_DataSource(){const t=[];return this.dateCoverCityList.forEach((e=>{console.log("地图-图表数据item :>> ",e),"宁德市"===e.city&&console.log("宁德 :>> ",e),"全省"!==e.city&&t.push({name:e.city,value:e.sum_visitor})})),console.log("地图-图表数据arr :>> ",t),t}},data(){return{recentPreachAreaListColumns:[{label:"区域名称",value:"areaName",align:"left"},{label:"日期",value:"date",width:60}],recentUndertakingUnitListColumns:[{label:"单位名称",value:"name",align:"left"},{label:"日期",value:"date",width:60}],recentAboutDetailsColumns:[{label:"宣讲主题",value:"title",align:"left"},{label:"主讲人",value:"name",width:40},{label:"听课人数",value:"visitor",width:50,align:"right"}],coverListColumns:[{label:"名次",value:"rankingName",width:40},{label:"覆盖区域名称",value:"areaName",align:"center"},{label:"区域覆盖人数",value:"visitorStr",width:55,align:"right"}],instructorColumns:[{label:"名次",value:"rankingName"},{label:"姓名",value:"name"},{label:"听课人数",value:"visitorStr",width:48,align:"right"},{label:"场次",value:"roundStr",align:"right"}],recentList:[],coverList:[],instructorList:[],dateCoverList:[],dateCoverCityList:[],coverTotalNumber:0}},mounted(){this.recentListAPI(),this.coverListAPI(),this.instructorListAPI(),this.dateCoverListAPI(),this.coverListCityAPI(),this.coverTotalNumberAPI()},methods:{async recentListAPI(){const t=await this.$request("lecture.recentList");console.log("近期列表API_res :>> ",t),t.forEach((t=>{t.date=this.$dateFormat(t.date,"yyyy-mm-dd"),console.log("item.date :>> ",t.date)})),this.recentList=t},async coverListAPI(){const t=await this.$request("lecture.coverList");for(const e in t)t[e].areaName=`${t[e].city}${t[e].district}${t[e].street}`,t[e].rankingName=`第${parseInt(e)+1}名`,t[e].visitorStr=`${t[e].sum_visitor}人`;console.log("覆盖列表API_res :>> ",t),this.coverList=t},async instructorListAPI(){const t=await this.$request("lecture.instructorList");for(const e in t)t[e].rankingName=`第${parseInt(e)+1}名`,t[e].name=t[e].instructor_info.name,t[e].visitorStr=`${t[e].sum_visitor}人`,t[e].roundStr=`${t[e].host_time}场`;console.log("授课老师排名列表API_res :>> ",t),this.instructorList=t},async dateCoverListAPI(){const t={type:"none"},e=await this.$request("lecture.dateCoverList",t);console.log("日期覆盖列表res :>> ",e),this.dateCoverList=e},async coverTotalNumberAPI(){const t=await this.$request("lecture.coverTotalNumber");console.log("覆盖总人数API_res :>> ",t),this.coverTotalNumber=t},async coverListCityAPI(){const t=await this.$request("lecture.coverListCity");console.log("res :>> ",t),this.dateCoverCityList=t}}},o=r,l=s(1001),n=(0,l.Z)(o,i,a,!1,null,"4be98142",null),c=n.exports}}]);
//# sourceMappingURL=681.2927b547.js.map