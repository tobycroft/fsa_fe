"use strict";(self["webpackChunkhome_research_screen"]=self["webpackChunkhome_research_screen"]||[]).push([[59],{93059:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"excel-container"},[r("el-card",{staticClass:"upload-box"},[r("el-upload",{ref:"uploadRef",staticClass:"upload-style",attrs:{action:e.apiUrl+"/v1/excel/index/index?token=theposter","http-request":e.httpRequest,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"file-list":e.fileList,"on-success":e.onSuccess,"on-error":e.onError}},[r("el-button",{staticClass:"import-excel-btn-style",attrs:{size:"small",type:"primary"}},[e._v("点击导入Excel")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],1)],1)},o=[],s=r(16198),c=(r(38862),r(68309),r(78975),{data:function(){return{environment:null,apiUrl:"http://tp.tuuz.ltd:1180",fileList:[]}},created:function(){this.environment=this.$route.params.environment},methods:{httpRequest:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("params :>> ",e),n=new FormData,n.append("file",e.file),console.log("formData :>> ",n),console.log("this.$request :>> ",t.$request),r.next=7,t.$request("excel.uploadExcel",n,{checkRes:!1});case 7:if(o=r.sent,o.code&&0!==o.code&&e.onError(o.echo),e.onSuccess(),console.log("Excel文件上传res :>> ",o),"lecture"!==t.environment){r.next=14;break}return t.lectureUploadApi(o),r.abrupt("return");case 14:t.instructorUploadApi(o);case 15:case"end":return r.stop()}}),r)})))()},onSuccess:function(e,t,r){},onError:function(e,t,r){this.$message.error("上传失败!")},lectureUploadApi:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={json:JSON.stringify(e)},r.next=3,t.$request("excel.lectureUpload",n);case 3:o=r.sent,console.log("讲座批量上传res :>> ",o);case 5:case"end":return r.stop()}}),r)})))()},instructorUploadApi:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={json:JSON.stringify(e)},r.next=3,t.$request("excel.instructorUpload",n);case 3:o=r.sent,console.log("教师批量上传res :>> ",o);case 5:case"end":return r.stop()}}),r)})))()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))}}}),a=c,i=r(1001),l=(0,i.Z)(a,n,o,!1,null,"625c897b",null),u=l.exports}}]);
//# sourceMappingURL=59-legacy.5bf4dbc4.js.map