"use strict";(self["webpackChunkhome_research_screen"]=self["webpackChunkhome_research_screen"]||[]).push([[59],{3059:function(e,t,s){s.r(t),s.d(t,{default:function(){return i}});var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"excel-container"},[s("el-card",{staticClass:"upload-box"},[s("el-upload",{ref:"uploadRef",staticClass:"upload-style",attrs:{action:e.apiUrl+"/v1/excel/index/index?token=theposter","http-request":e.httpRequest,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"file-list":e.fileList,"on-success":e.onSuccess,"on-error":e.onError}},[s("el-button",{staticClass:"import-excel-btn-style",attrs:{size:"small",type:"primary"}},[e._v("点击导入Excel")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],1)],1)},r=[],l={data(){return{environment:null,apiUrl:"http://tp.tuuz.ltd:1180",fileList:[]}},created(){this.environment=this.$route.params.environment},methods:{async httpRequest(e){console.log("params :>> ",e);const t=new FormData;t.append("file",e.file),console.log("formData :>> ",t),console.log("this.$request :>> ",this.$request);const s=await this.$request("excel.uploadExcel",t,{checkRes:!1});s.code&&0!==s.code&&e.onError(s.echo),e.onSuccess(),console.log("Excel文件上传res :>> ",s),"lecture"!==this.environment?this.instructorUploadApi(s):this.lectureUploadApi(s)},onSuccess(e,t,s){},onError(e,t,s){this.$message.error("上传失败!")},async lectureUploadApi(e){const t={json:JSON.stringify(e)},s=await this.$request("excel.lectureUpload",t);console.log("讲座批量上传res :>> ",s)},async instructorUploadApi(e){const t={json:JSON.stringify(e)},s=await this.$request("excel.instructorUpload",t);console.log("教师批量上传res :>> ",s)},handleRemove(e,t){console.log(e,t)},handlePreview(e){console.log(e)},beforeRemove(e,t){return this.$confirm(`确定移除 ${e.name}？`)}}},n=l,a=s(1001),c=(0,a.Z)(n,o,r,!1,null,"625c897b",null),i=c.exports}}]);
//# sourceMappingURL=59.bb0d7780.js.map